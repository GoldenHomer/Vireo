<div ng-if="!profile.repeatable"  ng-init="fieldValue = values[0]">
	<div class="col-md-5 col-sm-12">
		<div class="input-group file-input-group">
			<span class="pull-right file-info-tip">
				<span ng-if="!uploading" class="glyphicon glyphicon-info-sign opaque" tooltip="{{ profile.help }}"> </span>
			    <span ng-if="uploading" class="glyphicon glyphicon-refresh spinning"> </span>
		    </span>
			<dropzone
				file-model="files"
				max-files="10"
				text="Drop a file here to begin upload",
				patterns="{{getPattern()}}"
				drop-method="queueUpload(files)">
			</dropzone>
		</div>
	</div>	
	<div class="col-md-7 col-sm-12 file-preview-container" ng-init="fetchFileInfo(fieldValue)">
		<modal
			modal-id="{{'confirmDeleteFileModal' + getUriHash(fieldValue.value) }}"
			modal-view="views/modals/submissions/confirmDeleteFile.html" 
			modal-header-class="modal-header-danger">
		</modal>
		<div class="file-preview">
			<img ng-if="(hasFile(fieldValue) || previewing) && getPreview(fieldValue)" class="select-toggle" ngf-src="getPreview(fieldValue)" ng-click="getFile(fieldValue)">			
			<span ng-if="(hasFile(fieldValue) || previewing) && !getPreview(fieldValue)" class="glyphicon glyphicon-file select-toggle" ng-click="getFile(fieldValue)"></span>
			<div ng-if="hasFile(fieldValue) || previewing">
				<span class="file-upload-icon glyphicon glyphicon-ok"></span>
				<span class="file-upload-icon glyphicon glyphicon-trash text-danger" ng-click="openModal('#confirmDeleteFileModal' + getUriHash(fieldValue.value))"></span>
			</div>
		</div>
		<div class="file-info" ng-if="hasFile(fieldValue) || previewing">
			<p class="file-name">{{getFileInfo(fieldValue).name}}</p>
			<p class="file-type">{{getFileInfo(fieldValue).type}}</p>
			<p class="file-size">{{getFileInfo(fieldValue).size + " bytes"}}</p>
		</div>
		<div class="file-info" ng-if="previewing && !uploading">
			<button class="btn btn-success" ng-click="beginUpload(fieldValue)">
				<span ng-if="!hasFile(fieldValue)">Upload</span>
				<span ng-if="hasFile(fieldValue)">Replace</span>
			</button>
			<button class="btn btn-default" ng-click="cancelUpload(fieldValue)">Cancel</button>
		</div>
		<uib-progressbar class="progress-striped active file-upload-progress" type="success" ng-if="uploading" value="progress" max="100">{{progress + '%'}}</uib-progressbar>
	</div>
</div>
<!-- 
<div ng-if="profile.repeatable" class="col-md-7 col-sm-12 file-preview-container"">
	
	 <table class="table table-condensed">
   		<thead>
     			<tr>
       			<th>File</th>
       			<th>Type</th>
       			<th>Size</th>
       			<th>Status</th>
       			<th>Delete</th>
     			</tr>
  			</thead>
   		<tbody>
     			<tr ng-repeat="fileInfo in filesInfo" ng-init="fetchFileInfo(value)">
       			<td>{{fileInfo.name}}</td>
       			<td>{{fileInfo.type}}</td>
       			<td>{{fileInfo.size}}</td>
       			<td><span class="file-upload-icon glyphicon glyphicon-ok"></span></td>
       			<td><span class="file-upload-icon glyphicon glyphicon-trash text-danger"></span></td>
     			</tr>
   		</tbody>
	</table>
			
</div>
 -->
