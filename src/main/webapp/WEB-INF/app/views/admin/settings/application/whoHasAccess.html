<div ng-controller="WhoHasAccessController">
<div class="row">

    <button class="btn btn-default modal-add-btn" 
            data-toggle="modal" 
            data-target="#addMemberModal">
        Add Member
    </button>

    <table  class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Role</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="user in userRepo.list" ng-if="user.role == 'ROLE_ADMIN' || user.role == 'ROLE_REVIEWER' || user.role == 'ROLE_MANAGER'">
          <td>{{user.firstName}} {{user.lastName}}</td>
          <td>{{user.email}}</td>
          <td>
            <select ng-options="role as role.label for role in roles" class="form-control" ng-model="selectedRole[user.email]" ng-change="updateRole(user, selectedRole[user.email])">
              <!-- <option ng-repeat="(key, value) in roles" value="{{key}}" ng-click="setUserPermissions(user.email, key)">{{value}}</option> -->
            </select>
          </td>
        </tr>
      </tbody>
    </table>

    <vireomodal modal-id="addMemberModal"
                modal-view="views/modals/whoHasAccessModal.html" 
                modal-header-class="modal-header-primary"
                modal-data="modalData"
                modal-controller="WhoHasAccessController">
    </vireomodal>

</div>

</div>
