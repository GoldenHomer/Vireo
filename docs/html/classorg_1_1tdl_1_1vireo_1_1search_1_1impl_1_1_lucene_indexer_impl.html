<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vireo: org.tdl.vireo.search.impl.LuceneIndexerImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="vireo-logo-sm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vireo
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">Vireo Electronic Thesis and Dissertation Submission System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.tdl.vireo.search.impl.LuceneIndexerImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for org.tdl.vireo.search.impl.LuceneIndexerImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl__inherit__graph.png" border="0" usemap="#org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_inherit__map" id="org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_inherit__map">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html" title="{org.tdl.vireo.search.Indexer\n||+ updated()\l+ updated()\l+ updated()\l+ isUpdated()\l+ isUpdated()\l+ rollback()\l+ commit()\l+ rebuild()\l+ deleteAndRebuild()\l+ isJobRunning()\l+ getCurrentJobLabel()\l+ getCurrentJobProgress()\l+ getCurrentJobTotal()\l}" alt="" coords="10,5,189,259"/></map>
</div>
<div class="dynheader">
Collaboration diagram for org.tdl.vireo.search.impl.LuceneIndexerImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl__coll__graph.png" border="0" usemap="#org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_coll__map" alt="Collaboration graph"/></div>
<map name="org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_coll__map" id="org_8tdl_8vireo_8search_8impl_8_lucene_indexer_impl_coll__map">
<area shape="rect" id="node8" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html" title="{org.tdl.vireo.search.impl.\lLuceneAbstractJobImpl\n|+ progress\l+ total\l+ cancel\l|+ LuceneAbstractJobImpl()\l+ mergeJob()\l+ getLabel()\l+ getProgress()\l+ getTotal()\l+ cancelJob()\l+ doJob()\l+ writeIndex()\l+ indexSubmission()\l}" alt="" coords="271,993,449,1231"/><area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html" title="{org.tdl.vireo.search.Indexer\n||+ updated()\l+ updated()\l+ updated()\l+ isUpdated()\l+ isUpdated()\l+ rollback()\l+ commit()\l+ rebuild()\l+ deleteAndRebuild()\l+ isJobRunning()\l+ getCurrentJobLabel()\l+ getCurrentJobProgress()\l+ getCurrentJobTotal()\l}" alt="" coords="5,137,184,391"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html" title="{org.tdl.vireo.model.Submission\lRepository\n||+ createSubmission()\l+ findSubmission()\l+ findSubmissions()\l+ findSubmissionByEmailHash()\l+ findSubmission()\l+ findAllSubmissions()\l+ findSubmissionsTotal()\l+ findAllGraduationSemesters()\l+ findAllSubmissionYears()\l+ findAllPrograms()\l+ findAllColleges()\l+ findAllDepartments()\l+ findAllMajors()\l+ findAllDegrees()\l+ findAllLanguages()\l+ findAttachment()\l+ findCommitteeMember()\l+ findCustomActionValue()\l+ findActionLog()\l+ findActionLogs()\l+ findActionLog()\l+ findAllActionLogs()\l+ findActionLogsTotal()\l+ createSearchFilter()\l+ findSearchFilter()\l+ findSearchFiltersByCreator\lOrPublic()\l+ findSearchFilterByCreator\lAndName()\l+ findAllSearchFilters()\l}" alt="" coords="397,5,607,523"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab122220289f481b69ef9fba45c3fa6c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ab122220289f481b69ef9fba45c3fa6c8">LuceneIndexerImpl</a> ()  throws IOException </td></tr>
<tr class="separator:ab122220289f481b69ef9fba45c3fa6c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d30c98efa8e0ef589ff8865a3e3e04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a81d30c98efa8e0ef589ff8865a3e3e04">setSubmissionRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae3f617933153f56599e431b02a723e57">subRepo</a>)</td></tr>
<tr class="separator:a81d30c98efa8e0ef589ff8865a3e3e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77af21cea9c8eec1c0697ef37ca3351"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ad77af21cea9c8eec1c0697ef37ca3351">updated</a> (Long submissionId)</td></tr>
<tr class="separator:ad77af21cea9c8eec1c0697ef37ca3351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7498ddb7f6fad6010dea74ccffe96d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a4b7498ddb7f6fad6010dea74ccffe96d">updated</a> (List&lt; Long &gt; submissionIds)</td></tr>
<tr class="separator:a4b7498ddb7f6fad6010dea74ccffe96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38eeec350fc765bea0d91ffc547d723"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#af38eeec350fc765bea0d91ffc547d723">isUpdated</a> (Long submissionId)</td></tr>
<tr class="separator:af38eeec350fc765bea0d91ffc547d723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5456d50a54faf53b6692cb853e8ad59"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ac5456d50a54faf53b6692cb853e8ad59">isUpdated</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a> submission)</td></tr>
<tr class="separator:ac5456d50a54faf53b6692cb853e8ad59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceeb9c9d265a8728d4f33ccd745c8e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afceeb9c9d265a8728d4f33ccd745c8e6">rollback</a> ()</td></tr>
<tr class="separator:afceeb9c9d265a8728d4f33ccd745c8e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3831960dcd215482cd4ae394022427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#abe3831960dcd215482cd4ae394022427">commit</a> (boolean wait)</td></tr>
<tr class="separator:abe3831960dcd215482cd4ae394022427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3e49cbda274c8169ee657f9efc71fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a6d3e49cbda274c8169ee657f9efc71fc">rebuild</a> (boolean wait)</td></tr>
<tr class="separator:a6d3e49cbda274c8169ee657f9efc71fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93601d49266ddfca361425007cf2584"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ac93601d49266ddfca361425007cf2584">deleteAndRebuild</a> (boolean wait)</td></tr>
<tr class="separator:ac93601d49266ddfca361425007cf2584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab110bb9fe20d00167715c03c14fbf1"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#acab110bb9fe20d00167715c03c14fbf1">isJobRunning</a> ()</td></tr>
<tr class="separator:acab110bb9fe20d00167715c03c14fbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b174355d54d3fc8b1c9c252c6920f4e"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a7b174355d54d3fc8b1c9c252c6920f4e">getCurrentJobLabel</a> ()</td></tr>
<tr class="separator:a7b174355d54d3fc8b1c9c252c6920f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16ec9cc9c62285ff896d0299bc760f9"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae16ec9cc9c62285ff896d0299bc760f9">getCurrentJobProgress</a> ()</td></tr>
<tr class="separator:ae16ec9cc9c62285ff896d0299bc760f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c96685cf56047adf0445c32c2bab8e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a10c96685cf56047adf0445c32c2bab8e">getCurrentJobTotal</a> ()</td></tr>
<tr class="separator:a10c96685cf56047adf0445c32c2bab8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2e7ba1209bd161dec6f42948deac87"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87">runNextJob</a> (<a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a> newJob)</td></tr>
<tr class="separator:a2d2e7ba1209bd161dec6f42948deac87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa208408b9ce3303164aafa86e13f1381"><td class="memItemLeft" align="right" valign="top">ThreadLocal&lt; Set&lt; Long &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">transactionLocal</a> = new ThreadLocal&lt;Set&lt;Long&gt;&gt;()</td></tr>
<tr class="separator:aa208408b9ce3303164aafa86e13f1381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa37e22f04721a90e82f070bf177166c"><td class="memItemLeft" align="right" valign="top">final File&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">indexFile</a></td></tr>
<tr class="separator:afa37e22f04721a90e82f070bf177166c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d158b54f368bdf5c5a2dfd4b1451d0"><td class="memItemLeft" align="right" valign="top">final Directory&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a23d158b54f368bdf5c5a2dfd4b1451d0">index</a></td></tr>
<tr class="separator:a23d158b54f368bdf5c5a2dfd4b1451d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae918a3fdb994f295d8d72b45e281238a"><td class="memItemLeft" align="right" valign="top">final Version&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae918a3fdb994f295d8d72b45e281238a">version</a> = Version.LUCENE_36</td></tr>
<tr class="separator:ae918a3fdb994f295d8d72b45e281238a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d478f90b2ae896300a0d85bb2f01e0b"><td class="memItemLeft" align="right" valign="top">final Analyzer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a1d478f90b2ae896300a0d85bb2f01e0b">standardAnalyzer</a> = new StandardAnalyzer(<a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae918a3fdb994f295d8d72b45e281238a">version</a>)</td></tr>
<tr class="separator:a1d478f90b2ae896300a0d85bb2f01e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f617933153f56599e431b02a723e57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae3f617933153f56599e431b02a723e57">subRepo</a> = null</td></tr>
<tr class="separator:ae3f617933153f56599e431b02a723e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a0f9b09b705fcf3b0428a929747232"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a74a0f9b09b705fcf3b0428a929747232">corruptIndex</a> = false</td></tr>
<tr class="separator:a74a0f9b09b705fcf3b0428a929747232"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:a9b9e399e8f2013b5d7a29ecfd3803aef"><td class="memItemLeft" align="right" valign="top">public&lt; T extends <br class="typebreak"/>
<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html">AbstractModel</a> &gt; void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef">updated</a> (T model)</td></tr>
<tr class="separator:a9b9e399e8f2013b5d7a29ecfd3803aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a71f4b12bf84903edbd4a51e4715e2052"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> = null</td></tr>
<tr class="separator:a71f4b12bf84903edbd4a51e4715e2052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef281fe3be46997179a19cc424dab3ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> = null</td></tr>
<tr class="separator:aef281fe3be46997179a19cc424dab3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Lucene Search <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html">Indexer</a>.</p>
<p>This class manages writing to the Lucene search index all updates. For each thread modifying data in the model a separate transaction of those changes will be maintained. So when a model is updated, it is expected that the model object will tell the indexer that it's contents have been modified. The indexer will receive that notification and keep the related submission's id in a set. Then after the database transaction has been committed the index transaction can be committed. Updating the index is handled by background threads, in a matter completely seemless to the outside observer.</p>
<p>Fields:</p>
<p>subId: The id of the submission, this is available for both submissions and action logs.</p>
<p>logId: The id of the action log, this is only available for action logs.</p>
<p>type: Either "submission" or "actionlog" depending on what type of record.</p>
<p>SEARCH INDEXES (SOME USED FOR SORTING)</p>
<p>searchText: search index for textual searches</p>
<p>state: The bean name of the current state. single token not analyzed (search and sort)</p>
<p>searchAssigned: search index for those who are assigned. The field is composed of either the id of the assigned person, or 0 for unassigned submissions.</p>
<p>sortAssigned: The full name of the person assigned</p>
<p>graduationSemester: The grad year &amp; month converted into a date object and stored as milliseconds.</p>
<p>defenseDate: The date of the student's defense.</p>
<p>program: the program, a single token not analyzed (search and sort)</p>
<p>department: The department, single token not analyzed (search and sort)</p>
<p>college: The college, single token not analyzed (search and sort)</p>
<p>major: The major, single token not analyzed (search and sort)</p>
<p>embargo: The embargo name, single token not analyzed (search and sort)</p>
<p>degree: The degree, single token not analyzed (search and sort)</p>
<p>documentType: The document type's name, single token not analyzed (search and sort)</p>
<p>umiRelease: Either "yes", "no", or "" for the three possible states (search and sort)</p>
<p>submissionDate: The submission date for the submission as a numeric date stored as milliseconds.</p>
<p>customAction: The submission's completed custom actions (search and sort)</p>
<p>ONLY USED FOR SORTING:</p>
<p>studentName: The student name for sorting.</p>
<p>studentEmail: The student's email for sorting.</p>
<p>institutionalIdentifier: The student's institutional identifier</p>
<p>documentTitle: The document's title for sorting.</p>
<p>documentAbstract: The document's abstract for sorting.</p>
<p>documentKeywords: The document's keywords for sorting.</p>
<p>documentSubjects: The document's subjects for sorting.</p>
<p>documentLanguage: The document's language both code and name.</p>
<p>publishedMaterial: The description of previously published material</p>
<p>primaryDocument: The name of the primary document for sorting.</p>
<p>licenseAgreementDate: The date the license was agreed too for sorting.</p>
<p>approvalDate: The date the submission was approved for sorting.</p>
<p>committeeApprovalDate: The date the committee approved the submission for sorting.</p>
<p>committeeEmbargoApprovalDate: The date the committee approved the embargo for sorting.</p>
<p>committeeMembers: A single string strung together of all committee member's name for sorting.</p>
<p>committeeContactEmail: The committee email for sorting</p>
<p>degreeLevel: the degree level, single token not analyzed just for sorting</p>
<p>depositId: The deposit id for sorting</p>
<p>reviewerNotes: The notes from reviewers for sorting</p>
<p>lastEventEntry: The textual entry of the last log event for sorting.</p>
<p>lastEventTime: The date of the last entry for sorting.</p>
<p>orcid: The ORCID of the student.</p>
<dl class="section author"><dt>Author</dt><dd><a href="http://www.scottphillips.com">Scott Phillips</a> </dd></dl>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00147">147</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab122220289f481b69ef9fba45c3fa6c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.tdl.vireo.search.impl.LuceneIndexerImpl.LuceneIndexerImpl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new LuceneIndexer </p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00174">174</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00159">org.tdl.vireo.search.impl.LuceneIndexerImpl.index</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00158">org.tdl.vireo.search.impl.LuceneIndexerImpl.indexFile</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                  {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">indexFile</a> = <span class="keyword">new</span> File(Play.applicationPath + File.separator + Play.configuration.getProperty(<span class="stringliteral">&quot;index.path&quot;</span>,<span class="stringliteral">&quot;data/indexes&quot;</span>));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a23d158b54f368bdf5c5a2dfd4b1451d0">index</a> = FSDirectory.open(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">indexFile</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a23d158b54f368bdf5c5a2dfd4b1451d0"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a23d158b54f368bdf5c5a2dfd4b1451d0">org.tdl.vireo.search.impl.LuceneIndexerImpl.index</a></div><div class="ttdeci">final Directory index</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00159">LuceneIndexerImpl.java:159</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_afa37e22f04721a90e82f070bf177166c"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">org.tdl.vireo.search.impl.LuceneIndexerImpl.indexFile</a></div><div class="ttdeci">final File indexFile</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00158">LuceneIndexerImpl.java:158</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abe3831960dcd215482cd4ae394022427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.commit </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>wait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit the current transaction.</p>
<p>Create a new job and add it to the queue. </p>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#af3ff78592e3bd811416d18e93002bb04">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00292">292</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00155">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00465">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob()</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                     {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        Set&lt;Long&gt; txn = transactionLocal.get();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> (txn != null &amp;&amp; txn.size() &gt; 0) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            LuceneAbstractJobImpl newJob = <span class="keyword">new</span> LuceneUpdateJob(<span class="keyword">this</span>,txn);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">if</span> (wait) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="comment">// We will run this job in the current thread and wait for it to</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="comment">// finish. However we have to wait around for all other background</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="comment">// jobs to complete. We must also be thread safe about it.</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> == null &amp;&amp; <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> == null) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                            <span class="comment">// Start the job now. Anyone attempting to schedule will</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                            <span class="comment">// block until the end of this synchronized block.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                            newJob.doJob();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <span class="comment">// Give all other thread a chance to do their thing now that we are out of the synchronized block. </span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    Thread.yield();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="comment">// Schedule the job as a background task.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87">runNextJob</a>(newJob);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a2d2e7ba1209bd161dec6f42948deac87"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob</a></div><div class="ttdeci">synchronized void runNextJob(LuceneAbstractJobImpl newJob)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00465">LuceneIndexerImpl.java:465</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a71f4b12bf84903edbd4a51e4715e2052"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a></div><div class="ttdeci">LuceneAbstractJobImpl currentJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00154">LuceneIndexerImpl.java:154</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aef281fe3be46997179a19cc424dab3ff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a></div><div class="ttdeci">LuceneAbstractJobImpl nextJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00155">LuceneIndexerImpl.java:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_abe3831960dcd215482cd4ae394022427_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_abe3831960dcd215482cd4ae394022427_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_abe3831960dcd215482cd4ae394022427_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_abe3831960dcd215482cd4ae394022427_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.runNextJob" alt="" coords="232,5,435,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac93601d49266ddfca361425007cf2584"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.deleteAndRebuild </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>wait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete the index and rebuild.</p>
<p>This method allows for recovery of corrupted indexes because it blows away whatever is in the index directory.</p>
<p>This method will (even with the wait flag turned off) will block until all the current jobs have been canceled and the index files have been deleted. </p>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a1fc279131f5e9c275825ec4d60a1563c">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00363">363</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00158">org.tdl.vireo.search.impl.LuceneIndexerImpl.indexFile</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00401">org.tdl.vireo.search.impl.LuceneIndexerImpl.isJobRunning()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00155">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a>.</p>
<div class="fragment"><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                               {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        Logger.info(<span class="stringliteral">&quot;Removing the entire lucene index at &#39;&quot;</span>+indexFile.getPath()+<span class="stringliteral">&quot;&#39; and rebuilding.&#39;&quot;</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">// First, cancel any currently running jobs.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> = null;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> != null)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            currentJob.cancelJob();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keyword">synchronized</span>(<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="comment">// Wait for the jobs to stop</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">while</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#acab110bb9fe20d00167715c03c14fbf1">isJobRunning</a>()) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                Thread.yield();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment">// Delete everything in the index directory.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">indexFile</a> != null &amp;&amp; <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">indexFile</a>.exists() ) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                File[] files = indexFile.listFiles();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordflow">for</span> (File file : files) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                    file.delete();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            <span class="comment">// Create our job, and put it on the queue. This will prevent any other jobs from jumping before this one while we are in the synchronized queue.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            LuceneAbstractJobImpl newJob = <span class="keyword">new</span> LuceneRebuildJobImpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> = newJob;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (wait) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="comment">// Start the rebuild job in the current thread.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            currentJob.doJob();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="comment">// Start it as a background job.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            currentJob.now();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a71f4b12bf84903edbd4a51e4715e2052"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a></div><div class="ttdeci">LuceneAbstractJobImpl currentJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00154">LuceneIndexerImpl.java:154</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aef281fe3be46997179a19cc424dab3ff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a></div><div class="ttdeci">LuceneAbstractJobImpl nextJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00155">LuceneIndexerImpl.java:155</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_acab110bb9fe20d00167715c03c14fbf1"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#acab110bb9fe20d00167715c03c14fbf1">org.tdl.vireo.search.impl.LuceneIndexerImpl.isJobRunning</a></div><div class="ttdeci">boolean isJobRunning()</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00401">LuceneIndexerImpl.java:401</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_afa37e22f04721a90e82f070bf177166c"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afa37e22f04721a90e82f070bf177166c">org.tdl.vireo.search.impl.LuceneIndexerImpl.indexFile</a></div><div class="ttdeci">final File indexFile</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00158">LuceneIndexerImpl.java:158</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac93601d49266ddfca361425007cf2584_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac93601d49266ddfca361425007cf2584_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac93601d49266ddfca361425007cf2584_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac93601d49266ddfca361425007cf2584_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#acab110bb9fe20d00167715c03c14fbf1" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.isJobRunning" alt="" coords="294,5,509,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b174355d54d3fc8b1c9c252c6920f4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.search.impl.LuceneIndexerImpl.getCurrentJobLabel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The label of the current background process, either "Updating Index" or "Rebuilding Index" </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#ae381b210a0eb04a82cb53c62986cec6e">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00406">406</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                       {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">return</span> currentJob.getLabel();</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        } <span class="keywordflow">catch</span> (Throwable t) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <span class="comment">// We need this method to be thread safe, so use a try catch block</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="comment">// instead of an if block to check for the case where currentJob ==</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="comment">// null.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;None&quot;</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae16ec9cc9c62285ff896d0299bc760f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long org.tdl.vireo.search.impl.LuceneIndexerImpl.getCurrentJobProgress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The current progress of how many submissions have been indexed so far. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a756e0edac080fb05969f0877fdbba4c7">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00418">418</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                        {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">return</span> currentJob.getProgress();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        } <span class="keywordflow">catch</span> (Throwable t) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <span class="comment">// We need this method to be thread safe, so use a try catch block</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            <span class="comment">// instead of an if block to check for the case where currentJob ==</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="comment">// null.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10c96685cf56047adf0445c32c2bab8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long org.tdl.vireo.search.impl.LuceneIndexerImpl.getCurrentJobTotal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The total number of submissions that will be indexed by the background process. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a6adf073d50032c17155786ee1497a9be">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00430">430</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                     {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">return</span> currentJob.getTotal();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        } <span class="keywordflow">catch</span> (Throwable t) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="comment">// We need this method to be thread safe, so use a try catch block</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="comment">// instead of an if block to check for the case where currentJob ==</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="comment">// null.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acab110bb9fe20d00167715c03c14fbf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.tdl.vireo.search.impl.LuceneIndexerImpl.isJobRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>True if a background process is currently updating the search index. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a1854e20fe4dadc53054c36ab58e1e0b9">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00401">401</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00363">org.tdl.vireo.search.impl.LuceneIndexerImpl.deleteAndRebuild()</a>.</p>
<div class="fragment"><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                  {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordflow">return</span> !(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> == null);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a71f4b12bf84903edbd4a51e4715e2052"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a></div><div class="ttdeci">LuceneAbstractJobImpl currentJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00154">LuceneIndexerImpl.java:154</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_acab110bb9fe20d00167715c03c14fbf1_icgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_acab110bb9fe20d00167715c03c14fbf1_icgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_acab110bb9fe20d00167715c03c14fbf1_icgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_acab110bb9fe20d00167715c03c14fbf1_icgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ac93601d49266ddfca361425007cf2584" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.deleteAndRebuild" alt="" coords="270,5,509,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af38eeec350fc765bea0d91ffc547d723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated </td>
          <td>(</td>
          <td class="paramtype">Long&#160;</td>
          <td class="paramname"><em>submissionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submissionId</td><td>The id of a submission object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the identified submission is included in the current transaction. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#ac7172075572756625aef9366d391d499">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00263">263</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00150">org.tdl.vireo.search.impl.LuceneIndexerImpl.transactionLocal</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00272">org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                                {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">transactionLocal</a>.get() != null) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">return</span> transactionLocal.get().contains(submissionId);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aa208408b9ce3303164aafa86e13f1381"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">org.tdl.vireo.search.impl.LuceneIndexerImpl.transactionLocal</a></div><div class="ttdeci">ThreadLocal&lt; Set&lt; Long &gt; &gt; transactionLocal</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00150">LuceneIndexerImpl.java:150</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_af38eeec350fc765bea0d91ffc547d723_icgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_af38eeec350fc765bea0d91ffc547d723_icgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_af38eeec350fc765bea0d91ffc547d723_icgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_af38eeec350fc765bea0d91ffc547d723_icgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ac5456d50a54faf53b6692cb853e8ad59" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.isUpdated" alt="" coords="248,5,443,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5456d50a54faf53b6692cb853e8ad59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a>&#160;</td>
          <td class="paramname"><em>submission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submission</td><td>A submission object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the submission object is included in the current transaction. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a0c9743bd509f628d37ae7b865774b3f1">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00272">272</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1">org.tdl.vireo.model.AbstractModel.getId()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00263">org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                                    {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#af38eeec350fc765bea0d91ffc547d723">isUpdated</a>(submission.getId());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_af38eeec350fc765bea0d91ffc547d723"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#af38eeec350fc765bea0d91ffc547d723">org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated</a></div><div class="ttdeci">boolean isUpdated(Long submissionId)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00263">LuceneIndexerImpl.java:263</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac5456d50a54faf53b6692cb853e8ad59_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac5456d50a54faf53b6692cb853e8ad59_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac5456d50a54faf53b6692cb853e8ad59_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_ac5456d50a54faf53b6692cb853e8ad59_cgraph">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1" title="org.tdl.vireo.model.Abstract\lModel.getId" alt="" coords="254,5,437,46"/><area shape="rect" id="node3" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#af38eeec350fc765bea0d91ffc547d723" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.isUpdated" alt="" coords="248,70,443,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6d3e49cbda274c8169ee657f9efc71fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.rebuild </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>wait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rebuild the entire search index from scratch.</p>
<p>Create a new job and add it to the queue. </p>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#ad8d4b2bc27c8a2fab35c958821cc291a">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00327">327</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00155">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00465">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob()</a>.</p>
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                      {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        LuceneAbstractJobImpl newJob = <span class="keyword">new</span> LuceneRebuildJobImpl(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (wait) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="comment">// We will run this job in the current thread and wait for it to</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="comment">// finish. However we have to wait around for all other background</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="comment">// jobs to complete. We must also be thread safe about it.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="keyword">synchronized</span> (<span class="keyword">this</span>) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> == null &amp;&amp; <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> == null) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                        <span class="comment">// Start the job now. Anyone attempting to schedule will</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                        <span class="comment">// block until the end of this synchronized block.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        newJob.doJob();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="comment">// Give all other thread a chance to do their thing now that we are out of the synchronized block. </span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                Thread.yield();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// Schedule the job as a background task.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87">runNextJob</a>(newJob);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a2d2e7ba1209bd161dec6f42948deac87"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob</a></div><div class="ttdeci">synchronized void runNextJob(LuceneAbstractJobImpl newJob)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00465">LuceneIndexerImpl.java:465</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a71f4b12bf84903edbd4a51e4715e2052"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a></div><div class="ttdeci">LuceneAbstractJobImpl currentJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00154">LuceneIndexerImpl.java:154</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aef281fe3be46997179a19cc424dab3ff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a></div><div class="ttdeci">LuceneAbstractJobImpl nextJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00155">LuceneIndexerImpl.java:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a6d3e49cbda274c8169ee657f9efc71fc_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a6d3e49cbda274c8169ee657f9efc71fc_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a6d3e49cbda274c8169ee657f9efc71fc_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a6d3e49cbda274c8169ee657f9efc71fc_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a2d2e7ba1209bd161dec6f42948deac87" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.runNextJob" alt="" coords="229,5,432,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afceeb9c9d265a8728d4f33ccd745c8e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback the current transaction.</p>
<p>Just remove the threadLocal entry. </p>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a46e8df3f8151957b2849f4a430a081c5">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00282">282</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                           {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        transactionLocal.remove();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d2e7ba1209bd161dec6f42948deac87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a>&#160;</td>
          <td class="paramname"><em>newJob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Control processing of the next job. Any management of the current &amp; next job pointers is handled by this method to ensure thread safety.</p>
<p>This method works under two scenarios:</p>
<p>1) A transaction has just been committed, generating a new index job. This method is called with the new index job. It will either be started right away and assigned as the current job. However if another job is already running then this job will be held until that finishes. We only keep track of one job in the future, so potentially if multiple jobs are waiting they will be merged into a single job covering all the submissions across them all.</p>
<p>2) The current job has finished processing and the next job in the queue needs to be run. For this case the parameter newJob is null. The nextJob pointer will move up to the currentJob freeing it's old position, and then it will be executed right away.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newJob</td><td>A new job to add to the queue, or null to run the next job (this should only be called by the current index job). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00465">465</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00155">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00292">org.tdl.vireo.search.impl.LuceneIndexerImpl.commit()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00327">org.tdl.vireo.search.impl.LuceneIndexerImpl.rebuild()</a>.</p>
<div class="fragment"><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                                                      {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">if</span> (newJob == null) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            <span class="comment">// This means the current job has finished, so we should move on to the next job.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> = null;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> != null)</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                currentJob.now();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        </div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> == null) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="comment">// Nothing is running, so launch the job.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">currentJob</a> = newJob;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            newJob.now();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> == null) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="comment">// The next job is free, so just put it there until ready.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> = newJob;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="comment">// We already have the next job in the queue, so merge the two jobs together.</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">nextJob</a> = nextJob.mergeJob(newJob);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a71f4b12bf84903edbd4a51e4715e2052"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a71f4b12bf84903edbd4a51e4715e2052">org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob</a></div><div class="ttdeci">LuceneAbstractJobImpl currentJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00154">LuceneIndexerImpl.java:154</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aef281fe3be46997179a19cc424dab3ff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aef281fe3be46997179a19cc424dab3ff">org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob</a></div><div class="ttdeci">LuceneAbstractJobImpl nextJob</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00155">LuceneIndexerImpl.java:155</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a2d2e7ba1209bd161dec6f42948deac87_icgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a2d2e7ba1209bd161dec6f42948deac87_icgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a2d2e7ba1209bd161dec6f42948deac87_icgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a2d2e7ba1209bd161dec6f42948deac87_icgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#abe3831960dcd215482cd4ae394022427" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.commit" alt="" coords="256,5,435,46"/><area shape="rect" id="node3" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a6d3e49cbda274c8169ee657f9efc71fc" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.rebuild" alt="" coords="258,70,433,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81d30c98efa8e0ef589ff8865a3e3e04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.setSubmissionRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td>
          <td class="paramname"><em>subRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject the submission repository.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subRepo</td><td>The submission repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00185">185</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00164">org.tdl.vireo.search.impl.LuceneIndexerImpl.subRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                                                      {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        this.subRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae3f617933153f56599e431b02a723e57">subRepo</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_ae3f617933153f56599e431b02a723e57"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae3f617933153f56599e431b02a723e57">org.tdl.vireo.search.impl.LuceneIndexerImpl.subRepo</a></div><div class="ttdeci">SubmissionRepository subRepo</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00164">LuceneIndexerImpl.java:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b9e399e8f2013b5d7a29ecfd3803aef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">public&lt;T extends <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html">AbstractModel</a>&gt; void org.tdl.vireo.search.impl.LuceneIndexerImpl.updated </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive the model and update the transactions with any submissions that need to be updated in the index. We may receive models of lots of different types, however we only care about a few specific ones, those that are connected with a particular submission. When one of those models comes through we exact the submission it is related to and update the transaction accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The model which was saved, created, or deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a9a4274329e8e26c4aae83b3907ff1ac0">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00202">202</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1">org.tdl.vireo.model.AbstractModel.getId()</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00252">org.tdl.vireo.search.impl.LuceneIndexerImpl.updated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                                           {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// If we get a null then there probably is a problem somewhere else than needs to be fixed.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span> (model == null)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Updated object must not be null&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// If we haven&#39;t been persisted in the database yet then forget about it.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (model.getId() == null)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// Check the type of object it is.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        Submission sub = null;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (model instanceof Submission) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            sub = (Submission) model;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (model instanceof Attachment) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            Attachment attachment = (Attachment) model;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            sub = attachment.getSubmission();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (model instanceof CommitteeMember) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            CommitteeMember member = (CommitteeMember) model;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            sub = member.getSubmission();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (model instanceof CustomActionValue) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            CustomActionValue action = (CustomActionValue) model;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            sub = action.getSubmission();</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (model instanceof ActionLog) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            ActionLog log = (ActionLog) model;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            sub = log.getSubmission();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="comment">// Add the submission to the transaction</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (sub != null) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef">updated</a>(sub.getId());</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a9b9e399e8f2013b5d7a29ecfd3803aef"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef">org.tdl.vireo.search.impl.LuceneIndexerImpl.updated</a></div><div class="ttdeci">public&lt; T extends AbstractModel &gt; void updated(T model)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00202">LuceneIndexerImpl.java:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_cgraph">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1" title="org.tdl.vireo.model.Abstract\lModel.getId" alt="" coords="238,5,421,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_icgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_icgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_icgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a9b9e399e8f2013b5d7a29ecfd3803aef_icgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a4b7498ddb7f6fad6010dea74ccffe96d" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.updated" alt="" coords="238,5,421,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad77af21cea9c8eec1c0697ef37ca3351"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.updated </td>
          <td>(</td>
          <td class="paramtype">Long&#160;</td>
          <td class="paramname"><em>submissionId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a notification method to update the index for the provided submission Id. This works the same as the updated(model) varient however this may be more efficient in situations where the full object is not available. The indexer will keep track of these submissions until either <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afceeb9c9d265a8728d4f33ccd745c8e6">rollback()</a> or <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#abe3831960dcd215482cd4ae394022427">commit()</a> is called from the same thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submissionId</td><td>The id of the submission which was created, saved, or deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#ab48441acaea47ed7fb7a4fd070f1129c">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00237">237</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00150">org.tdl.vireo.search.impl.LuceneIndexerImpl.transactionLocal</a>.</p>
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                           {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (submissionId == null)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;An submission id is required&quot;</span>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="comment">// Create a new transaction if needed.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">transactionLocal</a>.get() == null)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">transactionLocal</a>.set(<span class="keyword">new</span> LinkedSet&lt;Long&gt;());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="comment">// Add the submission to the transaction</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        transactionLocal.get().add(submissionId);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_aa208408b9ce3303164aafa86e13f1381"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#aa208408b9ce3303164aafa86e13f1381">org.tdl.vireo.search.impl.LuceneIndexerImpl.transactionLocal</a></div><div class="ttdeci">ThreadLocal&lt; Set&lt; Long &gt; &gt; transactionLocal</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00150">LuceneIndexerImpl.java:150</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b7498ddb7f6fad6010dea74ccffe96d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneIndexerImpl.updated </td>
          <td>(</td>
          <td class="paramtype">List&lt; Long &gt;&#160;</td>
          <td class="paramname"><em>submissionIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a notification method to update the index for the provided list of submission ids. This works the same as the updated(model) varient however this may be more efficient in situations where the full object is not available. The indexer will keep track of these submissions until either <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#afceeb9c9d265a8728d4f33ccd745c8e6">rollback()</a> or <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#abe3831960dcd215482cd4ae394022427">commit()</a> is called from the same thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submissionIds</td><td>A list of submission ids which were created, saved, or deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html#a3dda6c008f34e98ef6a138a6d9114438">org.tdl.vireo.search.Indexer</a>.</p>

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00252">252</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_indexer_impl_8java_source.html#l00202">org.tdl.vireo.search.impl.LuceneIndexerImpl.updated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                  {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (submissionIds == null)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;A list of submission ids are required&quot;</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">for</span> (Long submissionId : submissionIds) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef">updated</a>(submissionId);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a9b9e399e8f2013b5d7a29ecfd3803aef"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef">org.tdl.vireo.search.impl.LuceneIndexerImpl.updated</a></div><div class="ttdeci">public&lt; T extends AbstractModel &gt; void updated(T model)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00202">LuceneIndexerImpl.java:202</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a4b7498ddb7f6fad6010dea74ccffe96d_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a4b7498ddb7f6fad6010dea74ccffe96d_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a4b7498ddb7f6fad6010dea74ccffe96d_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_a4b7498ddb7f6fad6010dea74ccffe96d_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a9b9e399e8f2013b5d7a29ecfd3803aef" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl.updated" alt="" coords="238,5,421,46"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1" title="org.tdl.vireo.model.Abstract\lModel.getId" alt="" coords="470,5,653,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a74a0f9b09b705fcf3b0428a929747232"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.tdl.vireo.search.impl.LuceneIndexerImpl.corruptIndex = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00169">169</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_abstract_job_impl_8java_source.html#l00109">org.tdl.vireo.search.impl.LuceneAbstractJobImpl.doJob()</a>.</p>

</div>
</div>
<a class="anchor" id="a71f4b12bf84903edbd4a51e4715e2052"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a> org.tdl.vireo.search.impl.LuceneIndexerImpl.currentJob = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00154">154</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00292">org.tdl.vireo.search.impl.LuceneIndexerImpl.commit()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00363">org.tdl.vireo.search.impl.LuceneIndexerImpl.deleteAndRebuild()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00401">org.tdl.vireo.search.impl.LuceneIndexerImpl.isJobRunning()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00327">org.tdl.vireo.search.impl.LuceneIndexerImpl.rebuild()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00465">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob()</a>.</p>

</div>
</div>
<a class="anchor" id="a23d158b54f368bdf5c5a2dfd4b1451d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final Directory org.tdl.vireo.search.impl.LuceneIndexerImpl.index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00159">159</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00174">org.tdl.vireo.search.impl.LuceneIndexerImpl.LuceneIndexerImpl()</a>, <a class="el" href="_lucene_rebuild_job_impl_8java_source.html#l00045">org.tdl.vireo.search.impl.LuceneRebuildJobImpl.writeIndex()</a>, and <a class="el" href="_lucene_update_job_8java_source.html#l00083">org.tdl.vireo.search.impl.LuceneUpdateJob.writeIndex()</a>.</p>

</div>
</div>
<a class="anchor" id="afa37e22f04721a90e82f070bf177166c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final File org.tdl.vireo.search.impl.LuceneIndexerImpl.indexFile</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00158">158</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00363">org.tdl.vireo.search.impl.LuceneIndexerImpl.deleteAndRebuild()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00174">org.tdl.vireo.search.impl.LuceneIndexerImpl.LuceneIndexerImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="aef281fe3be46997179a19cc424dab3ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html">LuceneAbstractJobImpl</a> org.tdl.vireo.search.impl.LuceneIndexerImpl.nextJob = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00155">155</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00292">org.tdl.vireo.search.impl.LuceneIndexerImpl.commit()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00363">org.tdl.vireo.search.impl.LuceneIndexerImpl.deleteAndRebuild()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00327">org.tdl.vireo.search.impl.LuceneIndexerImpl.rebuild()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00465">org.tdl.vireo.search.impl.LuceneIndexerImpl.runNextJob()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d478f90b2ae896300a0d85bb2f01e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final Analyzer org.tdl.vireo.search.impl.LuceneIndexerImpl.standardAnalyzer = new StandardAnalyzer(<a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae918a3fdb994f295d8d72b45e281238a">version</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00161">161</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_rebuild_job_impl_8java_source.html#l00045">org.tdl.vireo.search.impl.LuceneRebuildJobImpl.writeIndex()</a>, and <a class="el" href="_lucene_update_job_8java_source.html#l00083">org.tdl.vireo.search.impl.LuceneUpdateJob.writeIndex()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3f617933153f56599e431b02a723e57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> org.tdl.vireo.search.impl.LuceneIndexerImpl.subRepo = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00164">164</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_rebuild_job_impl_8java_source.html#l00026">org.tdl.vireo.search.impl.LuceneRebuildJobImpl.LuceneRebuildJobImpl()</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00185">org.tdl.vireo.search.impl.LuceneIndexerImpl.setSubmissionRepository()</a>, and <a class="el" href="_lucene_rebuild_job_impl_8java_source.html#l00045">org.tdl.vireo.search.impl.LuceneRebuildJobImpl.writeIndex()</a>.</p>

</div>
</div>
<a class="anchor" id="aa208408b9ce3303164aafa86e13f1381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThreadLocal&lt;Set&lt;Long&gt; &gt; org.tdl.vireo.search.impl.LuceneIndexerImpl.transactionLocal = new ThreadLocal&lt;Set&lt;Long&gt;&gt;()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00150">150</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_indexer_impl_8java_source.html#l00263">org.tdl.vireo.search.impl.LuceneIndexerImpl.isUpdated()</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00237">org.tdl.vireo.search.impl.LuceneIndexerImpl.updated()</a>.</p>

</div>
</div>
<a class="anchor" id="ae918a3fdb994f295d8d72b45e281238a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">final Version org.tdl.vireo.search.impl.LuceneIndexerImpl.version = Version.LUCENE_36</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_indexer_impl_8java_source.html#l00160">160</a> of file <a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_rebuild_job_impl_8java_source.html#l00045">org.tdl.vireo.search.impl.LuceneRebuildJobImpl.writeIndex()</a>, and <a class="el" href="_lucene_update_job_8java_source.html#l00083">org.tdl.vireo.search.impl.LuceneUpdateJob.writeIndex()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>app/org/tdl/vireo/search/impl/<a class="el" href="_lucene_indexer_impl_8java_source.html">LuceneIndexerImpl.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceorg.html">org</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl.html">tdl</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo.html">vireo</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1search.html">search</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1search_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a></li>
    <li class="footer">Generated on Wed Mar 4 2015 13:41:26 for Vireo by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
