<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vireo: org.tdl.vireo.search.impl.LuceneSearcherImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vireo
   &#160;<span id="projectnumber">3.0.x-RC</span>
   </div>
   <div id="projectbrief">Vireo Electronic Thesis and Dissertation Submission System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pac-methods">Package Functions</a> &#124;
<a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.tdl.vireo.search.impl.LuceneSearcherImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for org.tdl.vireo.search.impl.LuceneSearcherImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl__inherit__graph.png" border="0" usemap="#org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_inherit__map" id="org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_inherit__map">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html" title="org.tdl.vireo.search.Searcher" alt="" coords="5,5,195,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for org.tdl.vireo.search.impl.LuceneSearcherImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl__coll__graph.png" border="0" usemap="#org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_coll__map" alt="Collaboration graph"/></div>
<map name="org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_coll__map" id="org_8tdl_8vireo_8search_8impl_8_lucene_searcher_impl_coll__map">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html" title="org.tdl.vireo.search.Searcher" alt="" coords="363,161,552,188"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html" title="org.tdl.vireo.state.State\lManager" alt="" coords="378,33,537,74"/><area shape="rect" id="node4" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html" title="org.tdl.vireo.search.impl.\lLuceneIndexerImpl" alt="" coords="375,213,540,254"/><area shape="rect" id="node11" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_abstract_job_impl.html" title="org.tdl.vireo.search.impl.\lLuceneAbstractJobImpl" alt="" coords="685,266,851,307"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_indexer.html" title="org.tdl.vireo.search.Indexer" alt="" coords="17,5,197,32"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html" title="org.tdl.vireo.model.Submission\lRepository" alt="" coords="6,109,207,150"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_1_1_lucene_search_results_3_1a2166c63a573bf4bbe5001c9a8f02a4.html">LuceneSearchResults&lt; T extends AbstractModel &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_1_1_model_comparator.html">ModelComparator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9a80cae83c8576bcdaf570c234ae10ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9a80cae83c8576bcdaf570c234ae10ce">setLuceneIndexerImpl</a> (<a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">indexer</a>)</td></tr>
<tr class="separator:a9a80cae83c8576bcdaf570c234ae10ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddf93fdbe2da992ba4ca031f6a25e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a5ddf93fdbe2da992ba4ca031f6a25e9c">setSubmissionRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#abc69e9cfc5c702f2dc945157d6f59dfe">subRepo</a>)</td></tr>
<tr class="separator:a5ddf93fdbe2da992ba4ca031f6a25e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e1470867b15ac0d2d8eaa8b21473b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a37e1470867b15ac0d2d8eaa8b21473b2">setStateManager</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html">StateManager</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aa621131bd497ae3e83b37c14cb441a5b">stateManager</a>)</td></tr>
<tr class="separator:a37e1470867b15ac0d2d8eaa8b21473b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cb03f0a67122486cdddda3906f306a"><td class="memItemLeft" align="right" valign="top">SearchResult&lt; <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#af5cb03f0a67122486cdddda3906f306a">submissionSearch</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a> filter, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a> orderBy, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a> direction, int offset, int limit)</td></tr>
<tr class="separator:af5cb03f0a67122486cdddda3906f306a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf91b6d79bad79f8686f4d13b7888f2"><td class="memItemLeft" align="right" valign="top">SearchResult&lt; <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_action_log.html">ActionLog</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aadf91b6d79bad79f8686f4d13b7888f2">actionLogSearch</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a> filter, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a> orderBy, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a> direction, int offset, int limit)</td></tr>
<tr class="separator:aadf91b6d79bad79f8686f4d13b7888f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf311031b7eca014d50f444f2983600"><td class="memItemLeft" align="right" valign="top">long[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8cf311031b7eca014d50f444f2983600">submissionSearch</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a> filter, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a> orderBy, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a> direction)</td></tr>
<tr class="separator:a8cf311031b7eca014d50f444f2983600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd89013d1643c53f4788681b51703be3"><td class="memItemLeft" align="right" valign="top">long[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#acd89013d1643c53f4788681b51703be3">actionLogSearch</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a> filter, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a> orderBy, <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a> direction)</td></tr>
<tr class="separator:acd89013d1643c53f4788681b51703be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cae8e5018baedd1a87373772c994ce5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">buildQuery</a> (BooleanQuery andQuery, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a> filter, boolean submissions)</td></tr>
<tr class="separator:a9cae8e5018baedd1a87373772c994ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac035263258d847a523b5233b1688db84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">indexer</a> = null</td></tr>
<tr class="separator:ac035263258d847a523b5233b1688db84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc69e9cfc5c702f2dc945157d6f59dfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#abc69e9cfc5c702f2dc945157d6f59dfe">subRepo</a> = null</td></tr>
<tr class="separator:abc69e9cfc5c702f2dc945157d6f59dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa621131bd497ae3e83b37c14cb441a5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html">StateManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aa621131bd497ae3e83b37c14cb441a5b">stateManager</a> = null</td></tr>
<tr class="separator:aa621131bd497ae3e83b37c14cb441a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8e2b8178614e7f967289f3a2c4a5dddc"><td class="memItemLeft" align="right" valign="top">static String[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">SORT_SUB_FIELDS</a> = new String[SearchOrder.values().length]</td></tr>
<tr class="separator:a8e2b8178614e7f967289f3a2c4a5dddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4f5d5371fef4cd87580a5b89d30379"><td class="memItemLeft" align="right" valign="top">static String[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a4c4f5d5371fef4cd87580a5b89d30379">SORT_LOG_FIELDS</a> = new String[SearchOrder.values().length]</td></tr>
<tr class="separator:a4c4f5d5371fef4cd87580a5b89d30379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954ea261d7a918f78f638cb516745870"><td class="memItemLeft" align="right" valign="top">static int[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">SORT_TYPES</a> = new int[SearchOrder.values().length]</td></tr>
<tr class="separator:a954ea261d7a918f78f638cb516745870"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pac-methods"></a>
Package Functions</h2></td></tr>
<tr class="memitem:aff8720e2b7ca8faa3116c1d7dc4d570e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aff8720e2b7ca8faa3116c1d7dc4d570e">[instance initializer]</a></td></tr>
<tr class="separator:aff8720e2b7ca8faa3116c1d7dc4d570e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Lucene implementation of the <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html">Searcher</a> interface.</p>
<p>This implementation is directly tied to the <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a>, in fact it requires it as a spring-based dependency.</p>
<dl class="section author"><dt>Author</dt><dd><a href="http://www.scottphillips.com">Scott Phillips</a> </dd></dl>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00051">51</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aff8720e2b7ca8faa3116c1d7dc4d570e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">org.tdl.vireo.search.impl.LuceneSearcherImpl.[instance initializer] </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">package</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aadf91b6d79bad79f8686f4d13b7888f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SearchResult&lt;<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_action_log.html">ActionLog</a>&gt; org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a>&#160;</td>
          <td class="paramname"><em>orderBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for all action logs which match the parameters and order specified below.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The filter parameters describing which log items should be included. </td></tr>
    <tr><td class="paramname">orderBy</td><td>How the logs items should be ordered. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the order. </td></tr>
    <tr><td class="paramname">offset</td><td>The pagination offset. </td></tr>
    <tr><td class="paramname">limit</td><td>The pagination limit of results per page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The action log results object. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html#ae5484e168ee4e154c82d29686f3e543e">org.tdl.vireo.search.Searcher</a>.</p>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00201">201</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_search_direction_8java_source.html#l00010">org.tdl.vireo.search.SearchDirection.ASCENDING</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00055">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_LOG_FIELDS</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00056">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                       {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            IndexReader reader = IndexReader.open(indexer.index);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                IndexSearcher searcher = <span class="keyword">new</span> IndexSearcher(reader);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                BooleanQuery andQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;type&quot;</span>,<span class="stringliteral">&quot;actionlog&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">buildQuery</a>(andQuery,filter,<span class="keyword">false</span>); <span class="comment">// &lt;-- This does most of the work.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                <span class="keywordtype">boolean</span> reverse = (direction == <a class="code" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">SearchDirection.ASCENDING</a>) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                SortField dynamicSortField = <span class="keyword">new</span> SortField(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a4c4f5d5371fef4cd87580a5b89d30379">SORT_LOG_FIELDS</a>[orderBy.ordinal()], <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">SORT_TYPES</a>[orderBy.ordinal()], reverse);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                SortField idSortField = <span class="keyword">new</span> SortField(<span class="stringliteral">&quot;logId&quot;</span>,SortField.LONG,reverse);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                Sort sort = <span class="keyword">new</span> Sort(dynamicSortField, idSortField);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                Logger.debug(<span class="stringliteral">&quot;Log Query: &quot;</span>+andQuery.toString());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                <span class="comment">// Run the search</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                TopDocs topDocs = searcher.search(andQuery, offset + limit, sort);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                List&lt;Long&gt; sortedIds = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=offset; i &lt; offset + limit ; i++) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">if</span> (i &gt;= topDocs.scoreDocs.length )</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    Document doc = searcher.doc(topDocs.scoreDocs[i].doc);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    sortedIds.add(Long.valueOf(doc.get(<span class="stringliteral">&quot;logId&quot;</span>)));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                searcher.close();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                List&lt;ActionLog&gt; results = subRepo.findActionLogs(sortedIds);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                Collections.sort(results,<span class="keyword">new</span> ModelComparator(sortedIds));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> LuceneSearchResults&lt;ActionLog&gt;(filter, direction, orderBy, offset, limit, results, topDocs.totalHits);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                reader.close();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        } <span class="keywordflow">catch</span> (IOException ioe) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            Logger.error(ioe,<span class="stringliteral">&quot;Unable to search&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a9cae8e5018baedd1a87373772c994ce5"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery</a></div><div class="ttdeci">void buildQuery(BooleanQuery andQuery, SearchFilter filter, boolean submissions)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00347">LuceneSearcherImpl.java:347</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a954ea261d7a918f78f638cb516745870"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a></div><div class="ttdeci">static int[] SORT_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00056">LuceneSearcherImpl.java:56</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a4c4f5d5371fef4cd87580a5b89d30379"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a4c4f5d5371fef4cd87580a5b89d30379">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_LOG_FIELDS</a></div><div class="ttdeci">static String[] SORT_LOG_FIELDS</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00055">LuceneSearcherImpl.java:55</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction_html_a65bb9437e94d3e41d53363211f707b10"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">org.tdl.vireo.search.SearchDirection.ASCENDING</a></div><div class="ttdeci">ASCENDING</div><div class="ttdef"><b>Definition:</b> <a href="_search_direction_8java_source.html#l00010">SearchDirection.java:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_aadf91b6d79bad79f8686f4d13b7888f2_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_aadf91b6d79bad79f8686f4d13b7888f2_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_aadf91b6d79bad79f8686f4d13b7888f2_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_aadf91b6d79bad79f8686f4d13b7888f2_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.buildQuery" alt="" coords="297,626,503,667"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f" title="org.tdl.vireo.search.Search\lFilter.getIncludedSubmissions" alt="" coords="555,5,752,46"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090" title="org.tdl.vireo.search.Search\lFilter.getIncludedActionLogs" alt="" coords="560,70,747,111"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e" title="org.tdl.vireo.search.Search\lFilter.getExcludedSubmissions" alt="" coords="552,135,755,177"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827" title="org.tdl.vireo.search.Search\lFilter.getExcludedActionLogs" alt="" coords="557,201,749,242"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c" title="org.tdl.vireo.search.Search\lFilter.getSearchText" alt="" coords="564,266,743,307"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9" title="org.tdl.vireo.search.Search\lFilter.getStates" alt="" coords="564,331,743,373"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77" title="org.tdl.vireo.state.State.get\lDisplayName" alt="" coords="563,397,743,438"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af" title="org.tdl.vireo.search.Search\lFilter.getAssignees" alt="" coords="564,462,743,503"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19" title="org.tdl.vireo.search.Search\lFilter.getEmbargoTypes" alt="" coords="564,527,743,569"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600" title="org.tdl.vireo.search.Search\lFilter.getGraduationSemesters" alt="" coords="554,593,753,634"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370" title="org.tdl.vireo.search.Search\lFilter.getDegrees" alt="" coords="564,658,743,699"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52" title="org.tdl.vireo.search.Search\lFilter.getDepartments" alt="" coords="564,723,743,765"/><area shape="rect" id="node15" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65" title="org.tdl.vireo.search.Search\lFilter.getPrograms" alt="" coords="564,789,743,830"/><area shape="rect" id="node16" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044" title="org.tdl.vireo.search.Search\lFilter.getColleges" alt="" coords="564,854,743,895"/><area shape="rect" id="node17" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735" title="org.tdl.vireo.search.Search\lFilter.getMajors" alt="" coords="564,919,743,961"/><area shape="rect" id="node18" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007" title="org.tdl.vireo.search.Search\lFilter.getDocumentTypes" alt="" coords="564,985,743,1026"/><area shape="rect" id="node19" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6" title="org.tdl.vireo.search.Search\lFilter.getUMIRelease" alt="" coords="564,1050,743,1091"/><area shape="rect" id="node20" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944" title="org.tdl.vireo.search.Search\lFilter.getDateRangeStart" alt="" coords="564,1115,743,1157"/><area shape="rect" id="node21" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564" title="org.tdl.vireo.search.Search\lFilter.getDateRangeEnd" alt="" coords="564,1181,743,1222"/><area shape="rect" id="node22" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80" title="org.tdl.vireo.search.Search\lFilter.getCustomActions" alt="" coords="564,1246,743,1287"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd89013d1643c53f4788681b51703be3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long [] org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a>&#160;</td>
          <td class="paramname"><em>orderBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for the ids of all action logs which match the parameters and order specified below. This method is useful for batch operations where you want to operate on the entire set but don't want to have all the objects in memory for the entire time. This way you can get the list and iterate through the list one at a time clearing out all the previous objects each time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The filter parameters describing which log items should be included. </td></tr>
    <tr><td class="paramname">orderBy</td><td>How the logs items should be ordered. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the order. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The action log results object. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html#a5f57ca7c40615cc9409f38eb3cce9a2b">org.tdl.vireo.search.Searcher</a>.</p>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00294">294</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_search_direction_8java_source.html#l00010">org.tdl.vireo.search.SearchDirection.ASCENDING</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00054">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00056">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                                            {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            IndexReader reader = IndexReader.open(indexer.index);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                IndexSearcher searcher = <span class="keyword">new</span> IndexSearcher(reader);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                BooleanQuery andQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;type&quot;</span>,<span class="stringliteral">&quot;actionlog&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">buildQuery</a>(andQuery,filter,<span class="keyword">true</span>); <span class="comment">// &lt;-- This does most of the work.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordtype">boolean</span> reverse = (direction == <a class="code" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">SearchDirection.ASCENDING</a>) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                SortField dynamicSortField = <span class="keyword">new</span> SortField(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">SORT_SUB_FIELDS</a>[orderBy.ordinal()], <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">SORT_TYPES</a>[orderBy.ordinal()], reverse);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                SortField idSortField = <span class="keyword">new</span> SortField(<span class="stringliteral">&quot;logId&quot;</span>,SortField.LONG,reverse);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                Sort sort = <span class="keyword">new</span> Sort(dynamicSortField, idSortField);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                Logger.debug(<span class="stringliteral">&quot;Log ID Query: &quot;</span>+andQuery.toString());</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                TopDocs topDocs = searcher.search(andQuery, Integer.MAX_VALUE, sort);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordtype">long</span>[] sortedIds = <span class="keyword">new</span> <span class="keywordtype">long</span>[topDocs.scoreDocs.length];</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; topDocs.scoreDocs.length; i++) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    Document doc = searcher.doc(topDocs.scoreDocs[i].doc);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    sortedIds[i] = Long.valueOf(doc.get(<span class="stringliteral">&quot;logId&quot;</span>)).longValue();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                searcher.close();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">return</span> sortedIds;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                reader.close();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        } <span class="keywordflow">catch</span> (IOException ioe) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            Logger.error(ioe,<span class="stringliteral">&quot;Unable to search&quot;</span>);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a8e2b8178614e7f967289f3a2c4a5dddc"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a></div><div class="ttdeci">static String[] SORT_SUB_FIELDS</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00054">LuceneSearcherImpl.java:54</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a9cae8e5018baedd1a87373772c994ce5"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery</a></div><div class="ttdeci">void buildQuery(BooleanQuery andQuery, SearchFilter filter, boolean submissions)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00347">LuceneSearcherImpl.java:347</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a954ea261d7a918f78f638cb516745870"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a></div><div class="ttdeci">static int[] SORT_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00056">LuceneSearcherImpl.java:56</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction_html_a65bb9437e94d3e41d53363211f707b10"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">org.tdl.vireo.search.SearchDirection.ASCENDING</a></div><div class="ttdeci">ASCENDING</div><div class="ttdef"><b>Definition:</b> <a href="_search_direction_8java_source.html#l00010">SearchDirection.java:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_acd89013d1643c53f4788681b51703be3_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_acd89013d1643c53f4788681b51703be3_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_acd89013d1643c53f4788681b51703be3_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_acd89013d1643c53f4788681b51703be3_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.buildQuery" alt="" coords="297,626,503,667"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f" title="org.tdl.vireo.search.Search\lFilter.getIncludedSubmissions" alt="" coords="555,5,752,46"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090" title="org.tdl.vireo.search.Search\lFilter.getIncludedActionLogs" alt="" coords="560,70,747,111"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e" title="org.tdl.vireo.search.Search\lFilter.getExcludedSubmissions" alt="" coords="552,135,755,177"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827" title="org.tdl.vireo.search.Search\lFilter.getExcludedActionLogs" alt="" coords="557,201,749,242"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c" title="org.tdl.vireo.search.Search\lFilter.getSearchText" alt="" coords="564,266,743,307"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9" title="org.tdl.vireo.search.Search\lFilter.getStates" alt="" coords="564,331,743,373"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77" title="org.tdl.vireo.state.State.get\lDisplayName" alt="" coords="563,397,743,438"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af" title="org.tdl.vireo.search.Search\lFilter.getAssignees" alt="" coords="564,462,743,503"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19" title="org.tdl.vireo.search.Search\lFilter.getEmbargoTypes" alt="" coords="564,527,743,569"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600" title="org.tdl.vireo.search.Search\lFilter.getGraduationSemesters" alt="" coords="554,593,753,634"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370" title="org.tdl.vireo.search.Search\lFilter.getDegrees" alt="" coords="564,658,743,699"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52" title="org.tdl.vireo.search.Search\lFilter.getDepartments" alt="" coords="564,723,743,765"/><area shape="rect" id="node15" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65" title="org.tdl.vireo.search.Search\lFilter.getPrograms" alt="" coords="564,789,743,830"/><area shape="rect" id="node16" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044" title="org.tdl.vireo.search.Search\lFilter.getColleges" alt="" coords="564,854,743,895"/><area shape="rect" id="node17" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735" title="org.tdl.vireo.search.Search\lFilter.getMajors" alt="" coords="564,919,743,961"/><area shape="rect" id="node18" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007" title="org.tdl.vireo.search.Search\lFilter.getDocumentTypes" alt="" coords="564,985,743,1026"/><area shape="rect" id="node19" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6" title="org.tdl.vireo.search.Search\lFilter.getUMIRelease" alt="" coords="564,1050,743,1091"/><area shape="rect" id="node20" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944" title="org.tdl.vireo.search.Search\lFilter.getDateRangeStart" alt="" coords="564,1115,743,1157"/><area shape="rect" id="node21" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564" title="org.tdl.vireo.search.Search\lFilter.getDateRangeEnd" alt="" coords="564,1181,743,1222"/><area shape="rect" id="node22" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80" title="org.tdl.vireo.search.Search\lFilter.getCustomActions" alt="" coords="564,1246,743,1287"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9cae8e5018baedd1a87373772c994ce5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery </td>
          <td>(</td>
          <td class="paramtype">BooleanQuery&#160;</td>
          <td class="paramname"><em>andQuery</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>submissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method produces the common part of the query handle the filter search clauses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">andQuery</td><td>The existing and-based query </td></tr>
    <tr><td class="paramname">filter</td><td>The filter search paramaters. </td></tr>
    <tr><td class="paramname">submissions</td><td>Whether this is for submissions or action logs </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">347</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af">org.tdl.vireo.search.SearchFilter.getAssignees()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044">org.tdl.vireo.search.SearchFilter.getColleges()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80">org.tdl.vireo.search.SearchFilter.getCustomActions()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564">org.tdl.vireo.search.SearchFilter.getDateRangeEnd()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944">org.tdl.vireo.search.SearchFilter.getDateRangeStart()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370">org.tdl.vireo.search.SearchFilter.getDegrees()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52">org.tdl.vireo.search.SearchFilter.getDepartments()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77">org.tdl.vireo.state.State.getDisplayName()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007">org.tdl.vireo.search.SearchFilter.getDocumentTypes()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19">org.tdl.vireo.search.SearchFilter.getEmbargoTypes()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827">org.tdl.vireo.search.SearchFilter.getExcludedActionLogs()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e">org.tdl.vireo.search.SearchFilter.getExcludedSubmissions()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600">org.tdl.vireo.search.SearchFilter.getGraduationSemesters()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090">org.tdl.vireo.search.SearchFilter.getIncludedActionLogs()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f">org.tdl.vireo.search.SearchFilter.getIncludedSubmissions()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735">org.tdl.vireo.search.SearchFilter.getMajors()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65">org.tdl.vireo.search.SearchFilter.getPrograms()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c">org.tdl.vireo.search.SearchFilter.getSearchText()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9">org.tdl.vireo.search.SearchFilter.getStates()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6">org.tdl.vireo.search.SearchFilter.getUMIRelease()</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00118">org.tdl.vireo.search.impl.LuceneSearcherImpl.indexer</a>, <a class="el" href="_lucene_indexer_impl_8java_source.html#l00161">org.tdl.vireo.search.impl.LuceneIndexerImpl.standardAnalyzer</a>, and <a class="el" href="_lucene_indexer_impl_8java_source.html#l00160">org.tdl.vireo.search.impl.LuceneIndexerImpl.version</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00201">org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch()</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00152">org.tdl.vireo.search.impl.LuceneSearcherImpl.submissionSearch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                                                                            {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        QueryParser parser = <span class="keyword">new</span> QueryParser(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">indexer</a>.<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae918a3fdb994f295d8d72b45e281238a">version</a>,<span class="stringliteral">&quot;searchText&quot;</span>,<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">indexer</a>.<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a1d478f90b2ae896300a0d85bb2f01e0b">standardAnalyzer</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// Include Submission filter</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">if</span> (filter.getIncludedSubmissions().size() &gt; 0) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">for</span>(Submission sub : filter.getIncludedSubmissions()) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;subId&quot;</span>, NumericUtils.longToPrefixCoded(sub.getId()))), Occur.SHOULD);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="comment">// Include Log filter</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">if</span> (filter.getIncludedActionLogs().size() &gt; 0) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">for</span>(ActionLog log : filter.getIncludedActionLogs()) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;logId&quot;</span>, NumericUtils.longToPrefixCoded(log.getId()))), Occur.SHOULD);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="comment">// Exclude Submission filter</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">for</span>(Submission sub : filter.getExcludedSubmissions()) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;subId&quot;</span>, NumericUtils.longToPrefixCoded(sub.getId()))), Occur.MUST_NOT);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">// Exclude Log filter</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">for</span>(ActionLog log : filter.getExcludedActionLogs()) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;logId&quot;</span>, NumericUtils.longToPrefixCoded(log.getId()))), Occur.MUST_NOT);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="comment">// Search Text Filter</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">if</span> (filter.getSearchText().size() &gt; 0) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">for</span>(String searchText : filter.getSearchText()) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    <span class="comment">// First try to interpret it as a complex lucene search string.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    orQuery.add(parser.parse(searchText),Occur.SHOULD);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                } <span class="keywordflow">catch</span> (ParseException e) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    <span class="comment">// If that fails just fall back to a term query.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;searchText&quot;</span>, searchText)), Occur.SHOULD);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="comment">// State Filter</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">if</span> (filter.getStates().size() &gt; 0) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">for</span>(String stateName : filter.getStates()) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                State state = stateManager.getState(stateName);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;state&quot;</span>, state.getDisplayName())), Occur.SHOULD);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="comment">// Assignee Filter</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (filter.getAssignees().size() &gt; 0) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">for</span>(Person assignee : filter.getAssignees()) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordtype">long</span> assigneeId = 0;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">if</span> (assignee != null)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    assigneeId = assignee.getId();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;searchAssigned&quot;</span>, NumericUtils.longToPrefixCoded(assigneeId))), Occur.SHOULD);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// Embargo Filter</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> (filter.getEmbargoTypes().size() &gt; 0) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <span class="keywordflow">for</span>(EmbargoType embargo : filter.getEmbargoTypes()) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;embargo&quot;</span>, embargo.getName())), Occur.SHOULD);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }           </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="comment">// Graduation Semester Filter</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (filter.getGraduationSemesters().size() &gt; 0) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">for</span>(Semester semester : filter.getGraduationSemesters()) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="comment">// We can&#39;t index it if it dosn&#39;t have a date.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="keywordflow">if</span> (semester.year == null)</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                Calendar cal = Calendar.getInstance();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                cal.clear();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                cal.set(Calendar.YEAR, semester.year);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                <span class="keywordflow">if</span> (semester.month != null) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    cal.set(Calendar.MONTH,semester.month);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;graduationSemester&quot;</span>, NumericUtils.longToPrefixCoded(cal.getTimeInMillis()))), Occur.SHOULD);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// Degree Filter</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (filter.getDegrees().size() &gt; 0) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="keywordflow">for</span>(String degree : filter.getDegrees()) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;degree&quot;</span>, degree)), Occur.SHOULD);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">// Department Filter</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span> (filter.getDepartments().size() &gt; 0) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">for</span>(String dept : filter.getDepartments()) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;department&quot;</span>, dept)), Occur.SHOULD);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="comment">// Program Filter</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">if</span> (filter.getPrograms().size() &gt; 0) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">for</span>(String program : filter.getPrograms()) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;program&quot;</span>, program)), Occur.SHOULD);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">// College Filter</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">if</span> (filter.getColleges().size() &gt; 0) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            <span class="keywordflow">for</span>(String college : filter.getColleges()) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;college&quot;</span>, college)), Occur.SHOULD);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }       </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// Major Filter</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">if</span> (filter.getMajors().size() &gt; 0) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">for</span>(String major : filter.getMajors()) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;major&quot;</span>, major)), Occur.SHOULD);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="comment">// Document Type Filter</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">if</span> (filter.getDocumentTypes().size() &gt; 0) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">for</span>(String docType : filter.getDocumentTypes()) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;documentType&quot;</span>, docType)), Occur.SHOULD);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="comment">// UMI Release Filter</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordflow">if</span> (filter.getUMIRelease() != null) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">if</span> (filter.getUMIRelease()) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;umiRelease&quot;</span>,<span class="stringliteral">&quot;yes&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;umiRelease&quot;</span>,<span class="stringliteral">&quot;no&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="comment">// Date Range Filter</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">if</span> (filter.getDateRangeStart() != null || filter.getDateRangeEnd() != null) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordtype">long</span> startTime = 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">if</span> (filter.getDateRangeStart() != null)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                startTime = filter.getDateRangeStart().getTime();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <span class="keywordtype">long</span> endTime = Long.MAX_VALUE;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="keywordflow">if</span> (filter.getDateRangeEnd() != null)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                endTime = filter.getDateRangeEnd().getTime();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span> (submissions)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                andQuery.add(NumericRangeQuery.newLongRange(<span class="stringliteral">&quot;submissionDate&quot;</span>, startTime, endTime, <span class="keyword">true</span>,<span class="keyword">true</span>),Occur.MUST);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                andQuery.add(NumericRangeQuery.newLongRange(<span class="stringliteral">&quot;lastEventTime&quot;</span>, startTime, endTime, <span class="keyword">true</span>,<span class="keyword">true</span>),Occur.MUST);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">// Custom Action Filter</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span> (filter.getCustomActions().size() &gt; 0) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            BooleanQuery orQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            <span class="keywordflow">for</span>(CustomActionDefinition customAction : filter.getCustomActions()) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                orQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;customAction&quot;</span>, customAction.getLabel())), Occur.SHOULD);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            }           </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            andQuery.add(orQuery,Occur.MUST);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_ac035263258d847a523b5233b1688db84"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">org.tdl.vireo.search.impl.LuceneSearcherImpl.indexer</a></div><div class="ttdeci">LuceneIndexerImpl indexer</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00118">LuceneSearcherImpl.java:118</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_ae918a3fdb994f295d8d72b45e281238a"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#ae918a3fdb994f295d8d72b45e281238a">org.tdl.vireo.search.impl.LuceneIndexerImpl.version</a></div><div class="ttdeci">final Version version</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00160">LuceneIndexerImpl.java:160</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl_html_a1d478f90b2ae896300a0d85bb2f01e0b"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html#a1d478f90b2ae896300a0d85bb2f01e0b">org.tdl.vireo.search.impl.LuceneIndexerImpl.standardAnalyzer</a></div><div class="ttdeci">final Analyzer standardAnalyzer</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_indexer_impl_8java_source.html#l00161">LuceneIndexerImpl.java:161</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_cgraph">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af" title="org.tdl.vireo.search.Search\lFilter.getAssignees" alt="" coords="273,5,452,46"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044" title="org.tdl.vireo.search.Search\lFilter.getColleges" alt="" coords="273,70,452,111"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80" title="org.tdl.vireo.search.Search\lFilter.getCustomActions" alt="" coords="273,135,452,177"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564" title="org.tdl.vireo.search.Search\lFilter.getDateRangeEnd" alt="" coords="273,201,452,242"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944" title="org.tdl.vireo.search.Search\lFilter.getDateRangeStart" alt="" coords="273,266,452,307"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370" title="org.tdl.vireo.search.Search\lFilter.getDegrees" alt="" coords="273,331,452,373"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52" title="org.tdl.vireo.search.Search\lFilter.getDepartments" alt="" coords="273,397,452,438"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77" title="org.tdl.vireo.state.State.get\lDisplayName" alt="" coords="273,462,453,503"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007" title="org.tdl.vireo.search.Search\lFilter.getDocumentTypes" alt="" coords="273,527,452,569"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19" title="org.tdl.vireo.search.Search\lFilter.getEmbargoTypes" alt="" coords="273,593,452,634"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827" title="org.tdl.vireo.search.Search\lFilter.getExcludedActionLogs" alt="" coords="267,658,459,699"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e" title="org.tdl.vireo.search.Search\lFilter.getExcludedSubmissions" alt="" coords="261,723,464,765"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600" title="org.tdl.vireo.search.Search\lFilter.getGraduationSemesters" alt="" coords="263,789,462,830"/><area shape="rect" id="node15" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090" title="org.tdl.vireo.search.Search\lFilter.getIncludedActionLogs" alt="" coords="269,854,456,895"/><area shape="rect" id="node16" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f" title="org.tdl.vireo.search.Search\lFilter.getIncludedSubmissions" alt="" coords="264,919,461,961"/><area shape="rect" id="node17" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735" title="org.tdl.vireo.search.Search\lFilter.getMajors" alt="" coords="273,985,452,1026"/><area shape="rect" id="node18" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65" title="org.tdl.vireo.search.Search\lFilter.getPrograms" alt="" coords="273,1050,452,1091"/><area shape="rect" id="node19" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c" title="org.tdl.vireo.search.Search\lFilter.getSearchText" alt="" coords="273,1115,452,1157"/><area shape="rect" id="node20" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9" title="org.tdl.vireo.search.Search\lFilter.getStates" alt="" coords="273,1181,452,1222"/><area shape="rect" id="node21" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6" title="org.tdl.vireo.search.Search\lFilter.getUMIRelease" alt="" coords="273,1246,452,1287"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_icgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_icgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_icgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a9cae8e5018baedd1a87373772c994ce5_icgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aadf91b6d79bad79f8686f4d13b7888f2" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.actionLogSearch" alt="" coords="267,5,509,46"/><area shape="rect" id="node3" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#af5cb03f0a67122486cdddda3906f306a" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.submissionSearch" alt="" coords="262,70,514,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a80cae83c8576bcdaf570c234ae10ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneSearcherImpl.setLuceneIndexerImpl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a>&#160;</td>
          <td class="paramname"><em>indexer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Spring injection for the <a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a>. Note that this implementation is tied directly to the indexer implementation, that is why the datatype is what it is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indexer</td><td>The lucene indexer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00130">130</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_searcher_impl_8java_source.html#l00118">org.tdl.vireo.search.impl.LuceneSearcherImpl.indexer</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                                                {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        this.indexer = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">indexer</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_ac035263258d847a523b5233b1688db84"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#ac035263258d847a523b5233b1688db84">org.tdl.vireo.search.impl.LuceneSearcherImpl.indexer</a></div><div class="ttdeci">LuceneIndexerImpl indexer</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00118">LuceneSearcherImpl.java:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a37e1470867b15ac0d2d8eaa8b21473b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneSearcherImpl.setStateManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html">StateManager</a>&#160;</td>
          <td class="paramname"><em>stateManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stateManager</td><td>The state manager (used to resolve state names into display names) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00147">147</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_searcher_impl_8java_source.html#l00120">org.tdl.vireo.search.impl.LuceneSearcherImpl.stateManager</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                                           {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        this.stateManager = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aa621131bd497ae3e83b37c14cb441a5b">stateManager</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_aa621131bd497ae3e83b37c14cb441a5b"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#aa621131bd497ae3e83b37c14cb441a5b">org.tdl.vireo.search.impl.LuceneSearcherImpl.stateManager</a></div><div class="ttdeci">StateManager stateManager</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00120">LuceneSearcherImpl.java:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ddf93fdbe2da992ba4ca031f6a25e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.search.impl.LuceneSearcherImpl.setSubmissionRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td>
          <td class="paramname"><em>subRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subRepo</td><td>The submission repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00138">138</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_lucene_searcher_impl_8java_source.html#l00119">org.tdl.vireo.search.impl.LuceneSearcherImpl.subRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                                                      {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        this.subRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#abc69e9cfc5c702f2dc945157d6f59dfe">subRepo</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_abc69e9cfc5c702f2dc945157d6f59dfe"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#abc69e9cfc5c702f2dc945157d6f59dfe">org.tdl.vireo.search.impl.LuceneSearcherImpl.subRepo</a></div><div class="ttdeci">SubmissionRepository subRepo</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00119">LuceneSearcherImpl.java:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af5cb03f0a67122486cdddda3906f306a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SearchResult&lt;<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a>&gt; org.tdl.vireo.search.impl.LuceneSearcherImpl.submissionSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a>&#160;</td>
          <td class="paramname"><em>orderBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for all submissions which match the parameters and order specified below.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The filter parameters describing which submissions should be included. </td></tr>
    <tr><td class="paramname">orderBy</td><td>How the submissions should be ordered. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the order. </td></tr>
    <tr><td class="paramname">offset</td><td>The pagination offset. </td></tr>
    <tr><td class="paramname">limit</td><td>The pagination limit of results per page. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The submission results object. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html#a35f71ddd1640b0ce640dceddb68d68a3">org.tdl.vireo.search.Searcher</a>.</p>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00152">152</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_search_direction_8java_source.html#l00010">org.tdl.vireo.search.SearchDirection.ASCENDING</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00054">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00056">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                       {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            IndexReader reader = IndexReader.open(indexer.index);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                IndexSearcher searcher = <span class="keyword">new</span> IndexSearcher(reader);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                BooleanQuery andQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;type&quot;</span>,<span class="stringliteral">&quot;submission&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">buildQuery</a>(andQuery,filter,<span class="keyword">true</span>); <span class="comment">// &lt;-- This does most of the work.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordtype">boolean</span> reverse = (direction == <a class="code" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">SearchDirection.ASCENDING</a>) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                SortField dynamicSortField = <span class="keyword">new</span> SortField(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">SORT_SUB_FIELDS</a>[orderBy.ordinal()], <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">SORT_TYPES</a>[orderBy.ordinal()], reverse);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                SortField idSortField = <span class="keyword">new</span> SortField(<span class="stringliteral">&quot;subId&quot;</span>,SortField.LONG,reverse);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                Sort sort = <span class="keyword">new</span> Sort(dynamicSortField, idSortField);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                Logger.debug(<span class="stringliteral">&quot;Submission Query: &quot;</span>+andQuery.toString());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="comment">// Run the search</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                TopDocs topDocs = searcher.search(andQuery, offset + limit, sort);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                List&lt;Long&gt; sortedIds = <span class="keyword">new</span> ArrayList&lt;Long&gt;();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=offset; i &lt; offset + limit ; i++) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">if</span> (i &gt;= topDocs.scoreDocs.length )</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    Document doc = searcher.doc(topDocs.scoreDocs[i].doc);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                    </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    sortedIds.add(Long.valueOf(doc.get(<span class="stringliteral">&quot;subId&quot;</span>)));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                searcher.close();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                List&lt;Submission&gt; results = subRepo.findSubmissions(sortedIds);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                Collections.sort(results,<span class="keyword">new</span> ModelComparator(sortedIds));</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">new</span> LuceneSearchResults&lt;Submission&gt;(filter, direction, orderBy, offset, limit, results, topDocs.totalHits);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                reader.close();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        } <span class="keywordflow">catch</span> (IOException ioe) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            Logger.error(ioe,<span class="stringliteral">&quot;Unable to search&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a8e2b8178614e7f967289f3a2c4a5dddc"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a></div><div class="ttdeci">static String[] SORT_SUB_FIELDS</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00054">LuceneSearcherImpl.java:54</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a9cae8e5018baedd1a87373772c994ce5"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery</a></div><div class="ttdeci">void buildQuery(BooleanQuery andQuery, SearchFilter filter, boolean submissions)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00347">LuceneSearcherImpl.java:347</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a954ea261d7a918f78f638cb516745870"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a></div><div class="ttdeci">static int[] SORT_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00056">LuceneSearcherImpl.java:56</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction_html_a65bb9437e94d3e41d53363211f707b10"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">org.tdl.vireo.search.SearchDirection.ASCENDING</a></div><div class="ttdeci">ASCENDING</div><div class="ttdef"><b>Definition:</b> <a href="_search_direction_8java_source.html#l00010">SearchDirection.java:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_af5cb03f0a67122486cdddda3906f306a_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_af5cb03f0a67122486cdddda3906f306a_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_af5cb03f0a67122486cdddda3906f306a_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_af5cb03f0a67122486cdddda3906f306a_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.buildQuery" alt="" coords="307,626,514,667"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af" title="org.tdl.vireo.search.Search\lFilter.getAssignees" alt="" coords="575,5,753,46"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044" title="org.tdl.vireo.search.Search\lFilter.getColleges" alt="" coords="575,70,753,111"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80" title="org.tdl.vireo.search.Search\lFilter.getCustomActions" alt="" coords="575,135,753,177"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564" title="org.tdl.vireo.search.Search\lFilter.getDateRangeEnd" alt="" coords="575,201,753,242"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944" title="org.tdl.vireo.search.Search\lFilter.getDateRangeStart" alt="" coords="575,266,753,307"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370" title="org.tdl.vireo.search.Search\lFilter.getDegrees" alt="" coords="575,331,753,373"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52" title="org.tdl.vireo.search.Search\lFilter.getDepartments" alt="" coords="575,397,753,438"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77" title="org.tdl.vireo.state.State.get\lDisplayName" alt="" coords="574,462,754,503"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007" title="org.tdl.vireo.search.Search\lFilter.getDocumentTypes" alt="" coords="575,527,753,569"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19" title="org.tdl.vireo.search.Search\lFilter.getEmbargoTypes" alt="" coords="575,593,753,634"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827" title="org.tdl.vireo.search.Search\lFilter.getExcludedActionLogs" alt="" coords="568,658,760,699"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e" title="org.tdl.vireo.search.Search\lFilter.getExcludedSubmissions" alt="" coords="563,723,765,765"/><area shape="rect" id="node15" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600" title="org.tdl.vireo.search.Search\lFilter.getGraduationSemesters" alt="" coords="565,789,763,830"/><area shape="rect" id="node16" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090" title="org.tdl.vireo.search.Search\lFilter.getIncludedActionLogs" alt="" coords="571,854,757,895"/><area shape="rect" id="node17" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f" title="org.tdl.vireo.search.Search\lFilter.getIncludedSubmissions" alt="" coords="565,919,763,961"/><area shape="rect" id="node18" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735" title="org.tdl.vireo.search.Search\lFilter.getMajors" alt="" coords="575,985,753,1026"/><area shape="rect" id="node19" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65" title="org.tdl.vireo.search.Search\lFilter.getPrograms" alt="" coords="575,1050,753,1091"/><area shape="rect" id="node20" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c" title="org.tdl.vireo.search.Search\lFilter.getSearchText" alt="" coords="575,1115,753,1157"/><area shape="rect" id="node21" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9" title="org.tdl.vireo.search.Search\lFilter.getStates" alt="" coords="575,1181,753,1222"/><area shape="rect" id="node22" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6" title="org.tdl.vireo.search.Search\lFilter.getUMIRelease" alt="" coords="575,1246,753,1287"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8cf311031b7eca014d50f444f2983600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long [] org.tdl.vireo.search.impl.LuceneSearcherImpl.submissionSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html">SearchFilter</a>&#160;</td>
          <td class="paramname"><em>filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_order.html">SearchOrder</a>&#160;</td>
          <td class="paramname"><em>orderBy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html">SearchDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for the ids of all submissions which match the parameters and order specified below. This method is useful for batch operations where you want to operate on the entire set but don't want to have all the objects in memory for the entire time. This way you can get the list and iterate through the list one at a time clearing out all the previous objects each time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The filter parameters describing which submissions should be included. </td></tr>
    <tr><td class="paramname">orderBy</td><td>How the submissions should be ordered. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the order. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The submission results object. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_searcher.html#a0d26db8256226528d2b17e9932d172ef">org.tdl.vireo.search.Searcher</a>.</p>

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00251">251</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>References <a class="el" href="_search_direction_8java_source.html#l00010">org.tdl.vireo.search.SearchDirection.ASCENDING</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, <a class="el" href="_lucene_searcher_impl_8java_source.html#l00054">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00056">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                            {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            IndexReader reader = IndexReader.open(indexer.index);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                IndexSearcher searcher = <span class="keyword">new</span> IndexSearcher(reader);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                BooleanQuery andQuery = <span class="keyword">new</span> BooleanQuery();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                andQuery.add(<span class="keyword">new</span> TermQuery(<span class="keyword">new</span> Term(<span class="stringliteral">&quot;type&quot;</span>,<span class="stringliteral">&quot;submission&quot;</span>)),Occur.MUST);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">buildQuery</a>(andQuery,filter,<span class="keyword">true</span>); <span class="comment">// &lt;-- This does most of the work.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordtype">boolean</span> reverse = (direction == <a class="code" href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">SearchDirection.ASCENDING</a>) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                SortField dynamicSortField = <span class="keyword">new</span> SortField(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">SORT_SUB_FIELDS</a>[orderBy.ordinal()], <a class="code" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">SORT_TYPES</a>[orderBy.ordinal()], reverse);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                SortField idSortField = <span class="keyword">new</span> SortField(<span class="stringliteral">&quot;subId&quot;</span>,SortField.LONG,reverse);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                Sort sort = <span class="keyword">new</span> Sort(dynamicSortField, idSortField);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                Logger.debug(<span class="stringliteral">&quot;Submission ID Query: &quot;</span>+andQuery.toString());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                TopDocs topDocs = searcher.search(andQuery, Integer.MAX_VALUE, sort);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordtype">long</span>[] sortedIds = <span class="keyword">new</span> <span class="keywordtype">long</span>[topDocs.scoreDocs.length];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; topDocs.scoreDocs.length; i++) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    Document doc = searcher.doc(topDocs.scoreDocs[i].doc);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    sortedIds[i] = Long.valueOf(doc.get(<span class="stringliteral">&quot;subId&quot;</span>)).longValue();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                searcher.close();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                <span class="keywordflow">return</span> sortedIds;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            } <span class="keywordflow">finally</span> {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                reader.close();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        } <span class="keywordflow">catch</span> (IOException ioe) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            Logger.error(ioe,<span class="stringliteral">&quot;Unable to search&quot;</span>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a8e2b8178614e7f967289f3a2c4a5dddc"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a8e2b8178614e7f967289f3a2c4a5dddc">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS</a></div><div class="ttdeci">static String[] SORT_SUB_FIELDS</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00054">LuceneSearcherImpl.java:54</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a9cae8e5018baedd1a87373772c994ce5"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery</a></div><div class="ttdeci">void buildQuery(BooleanQuery andQuery, SearchFilter filter, boolean submissions)</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00347">LuceneSearcherImpl.java:347</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_html_a954ea261d7a918f78f638cb516745870"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a954ea261d7a918f78f638cb516745870">org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES</a></div><div class="ttdeci">static int[] SORT_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="_lucene_searcher_impl_8java_source.html#l00056">LuceneSearcherImpl.java:56</a></div></div>
<div class="ttc" id="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction_html_a65bb9437e94d3e41d53363211f707b10"><div class="ttname"><a href="enumorg_1_1tdl_1_1vireo_1_1search_1_1_search_direction.html#a65bb9437e94d3e41d53363211f707b10">org.tdl.vireo.search.SearchDirection.ASCENDING</a></div><div class="ttdeci">ASCENDING</div><div class="ttdef"><b>Definition:</b> <a href="_search_direction_8java_source.html#l00010">SearchDirection.java:10</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a8cf311031b7eca014d50f444f2983600_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a8cf311031b7eca014d50f444f2983600_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a8cf311031b7eca014d50f444f2983600_cgraph" id="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl_a8cf311031b7eca014d50f444f2983600_cgraph">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html#a9cae8e5018baedd1a87373772c994ce5" title="org.tdl.vireo.search.impl.\lLuceneSearcherImpl.buildQuery" alt="" coords="307,626,514,667"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#af1b24a82a585f40b5f95eecc18e3f5af" title="org.tdl.vireo.search.Search\lFilter.getAssignees" alt="" coords="575,5,753,46"/><area shape="rect" id="node4" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a835ba80b260c6942871c9cee2cf66044" title="org.tdl.vireo.search.Search\lFilter.getColleges" alt="" coords="575,70,753,111"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#acf1b67535ee5a18a40842aee129f1d80" title="org.tdl.vireo.search.Search\lFilter.getCustomActions" alt="" coords="575,135,753,177"/><area shape="rect" id="node6" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa6412ed78589a5d95125163b18682564" title="org.tdl.vireo.search.Search\lFilter.getDateRangeEnd" alt="" coords="575,201,753,242"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a693e28f938d7b7796909bacbb5898944" title="org.tdl.vireo.search.Search\lFilter.getDateRangeStart" alt="" coords="575,266,753,307"/><area shape="rect" id="node8" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a3944fdd5164a11c8f36735cb4f53e370" title="org.tdl.vireo.search.Search\lFilter.getDegrees" alt="" coords="575,331,753,373"/><area shape="rect" id="node9" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a07353d922e5737d75e296aba88277e52" title="org.tdl.vireo.search.Search\lFilter.getDepartments" alt="" coords="575,397,753,438"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state.html#adbbbfbef6ecd0095bd9e3cfe674c5b77" title="org.tdl.vireo.state.State.get\lDisplayName" alt="" coords="574,462,754,503"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a221fae3a0aa49b93b136a851e50ef007" title="org.tdl.vireo.search.Search\lFilter.getDocumentTypes" alt="" coords="575,527,753,569"/><area shape="rect" id="node12" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ae0808e09ae500192d3468e200cb48e19" title="org.tdl.vireo.search.Search\lFilter.getEmbargoTypes" alt="" coords="575,593,753,634"/><area shape="rect" id="node13" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a44d9c6c8f53d2e619cc257df2c14c827" title="org.tdl.vireo.search.Search\lFilter.getExcludedActionLogs" alt="" coords="568,658,760,699"/><area shape="rect" id="node14" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa1589f9c00bc4356f24dc484a4cac65e" title="org.tdl.vireo.search.Search\lFilter.getExcludedSubmissions" alt="" coords="563,723,765,765"/><area shape="rect" id="node15" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aa0129846db8706af30e458354d28d600" title="org.tdl.vireo.search.Search\lFilter.getGraduationSemesters" alt="" coords="565,789,763,830"/><area shape="rect" id="node16" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a51dd3c280fd84766030930ebfe5ae090" title="org.tdl.vireo.search.Search\lFilter.getIncludedActionLogs" alt="" coords="571,854,757,895"/><area shape="rect" id="node17" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a2b4c1992702154cd44d65f588852861f" title="org.tdl.vireo.search.Search\lFilter.getIncludedSubmissions" alt="" coords="565,919,763,961"/><area shape="rect" id="node18" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7a9b60056835ad56fcf4124c3a9ec735" title="org.tdl.vireo.search.Search\lFilter.getMajors" alt="" coords="575,985,753,1026"/><area shape="rect" id="node19" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#aaa53d16911943444c9b45caa35587e65" title="org.tdl.vireo.search.Search\lFilter.getPrograms" alt="" coords="575,1050,753,1091"/><area shape="rect" id="node20" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a7063554d1754ca8cb878a84a9260528c" title="org.tdl.vireo.search.Search\lFilter.getSearchText" alt="" coords="575,1115,753,1157"/><area shape="rect" id="node21" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#a49043033b5ca303b456e3e3b9886f2f9" title="org.tdl.vireo.search.Search\lFilter.getStates" alt="" coords="575,1181,753,1222"/><area shape="rect" id="node22" href="interfaceorg_1_1tdl_1_1vireo_1_1search_1_1_search_filter.html#ad060c5f3ef6b50d33cfac07ff5ee75e6" title="org.tdl.vireo.search.Search\lFilter.getUMIRelease" alt="" coords="575,1246,753,1287"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac035263258d847a523b5233b1688db84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_indexer_impl.html">LuceneIndexerImpl</a> org.tdl.vireo.search.impl.LuceneSearcherImpl.indexer = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00118">118</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00347">org.tdl.vireo.search.impl.LuceneSearcherImpl.buildQuery()</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00130">org.tdl.vireo.search.impl.LuceneSearcherImpl.setLuceneIndexerImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c4f5d5371fef4cd87580a5b89d30379"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String [] org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_LOG_FIELDS = new String[SearchOrder.values().length]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00055">55</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00201">org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e2b8178614e7f967289f3a2c4a5dddc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">String [] org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_SUB_FIELDS = new String[SearchOrder.values().length]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00054">54</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00294">org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch()</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00152">org.tdl.vireo.search.impl.LuceneSearcherImpl.submissionSearch()</a>.</p>

</div>
</div>
<a class="anchor" id="a954ea261d7a918f78f638cb516745870"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int [] org.tdl.vireo.search.impl.LuceneSearcherImpl.SORT_TYPES = new int[SearchOrder.values().length]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00056">56</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00201">org.tdl.vireo.search.impl.LuceneSearcherImpl.actionLogSearch()</a>, and <a class="el" href="_lucene_searcher_impl_8java_source.html#l00152">org.tdl.vireo.search.impl.LuceneSearcherImpl.submissionSearch()</a>.</p>

</div>
</div>
<a class="anchor" id="aa621131bd497ae3e83b37c14cb441a5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1state_1_1_state_manager.html">StateManager</a> org.tdl.vireo.search.impl.LuceneSearcherImpl.stateManager = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00120">120</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00147">org.tdl.vireo.search.impl.LuceneSearcherImpl.setStateManager()</a>.</p>

</div>
</div>
<a class="anchor" id="abc69e9cfc5c702f2dc945157d6f59dfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> org.tdl.vireo.search.impl.LuceneSearcherImpl.subRepo = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_lucene_searcher_impl_8java_source.html#l00119">119</a> of file <a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_lucene_searcher_impl_8java_source.html#l00138">org.tdl.vireo.search.impl.LuceneSearcherImpl.setSubmissionRepository()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>app/org/tdl/vireo/search/impl/<a class="el" href="_lucene_searcher_impl_8java_source.html">LuceneSearcherImpl.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceorg.html">org</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl.html">tdl</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo.html">vireo</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1search.html">search</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1search_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1search_1_1impl_1_1_lucene_searcher_impl.html">LuceneSearcherImpl</a></li>
    <li class="footer">Generated on Wed Dec 3 2014 12:37:03 for Vireo by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
