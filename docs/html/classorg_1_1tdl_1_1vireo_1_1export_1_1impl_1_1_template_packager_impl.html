<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Vireo: org.tdl.vireo.export.impl.TemplatePackagerImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="vireo-logo-sm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Vireo
   &#160;<span id="projectnumber">3.0.2</span>
   </div>
   <div id="projectbrief">Vireo Electronic Thesis and Dissertation Submission System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.tdl.vireo.export.impl.TemplatePackagerImpl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for org.tdl.vireo.export.impl.TemplatePackagerImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl__inherit__graph.png" border="0" usemap="#org_8tdl_8vireo_8export_8impl_8_template_packager_impl_inherit__map" alt="Inheritance graph"/></div>
<map name="org_8tdl_8vireo_8export_8impl_8_template_packager_impl_inherit__map" id="org_8tdl_8vireo_8export_8impl_8_template_packager_impl_inherit__map">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html" title="{org.tdl.vireo.export.impl.\lAbstractPackagerImpl\n|+ beanName\l+ displayName\l|+ getBeanName()\l+ setBeanName()\l+ getDisplayName()\l+ setDisplayName()\l}" alt="" coords="121,177,284,327"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_packager.html" title="{org.tdl.vireo.export.Packager\n||+ getBeanName()\l+ getExportServiceBeanName()\l+ getDisplayName()\l+ generatePackage()\l}" alt="" coords="5,6,211,127"/></map>
</div>
<div class="dynheader">
Collaboration diagram for org.tdl.vireo.export.impl.TemplatePackagerImpl:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl__coll__graph.png" border="0" usemap="#org_8tdl_8vireo_8export_8impl_8_template_packager_impl_coll__map" alt="Collaboration graph"/></div>
<map name="org_8tdl_8vireo_8export_8impl_8_template_packager_impl_coll__map" id="org_8tdl_8vireo_8export_8impl_8_template_packager_impl_coll__map">
<area shape="rect" id="node2" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html" title="{org.tdl.vireo.export.impl.\lAbstractPackagerImpl\n|+ beanName\l+ displayName\l|+ getBeanName()\l+ setBeanName()\l+ getDisplayName()\l+ setDisplayName()\l}" alt="" coords="121,751,284,902"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_packager.html" title="{org.tdl.vireo.export.Packager\n||+ getBeanName()\l+ getExportServiceBeanName()\l+ getDisplayName()\l+ generatePackage()\l}" alt="" coords="5,6,211,127"/><area shape="rect" id="node5" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html" title="{org.tdl.vireo.model.Settings\lRepository\n||+ createDegree()\l+ findDegree()\l+ findDegreeByName()\l+ findAllDegrees()\l+ createMajor()\l+ findMajor()\l+ findAllMajors()\l+ createCollege()\l+ createCollege()\l+ findCollege()\l+ findCollegeByName()\l+ findAllColleges()\l+ createProgram()\l+ createProgram()\l+ findProgram()\l+ findProgramByName()\l+ findAllPrograms()\l+ createDepartment()\l+ createDepartment()\l+ findDepartment()\l+ findDepartmentByName()\l+ findAllDepartments()\l+ createAdministrativeGroup()\l+ createAdministrativeGroup()\l+ findAdministrativeGroup()\l+ findAdministrativeGroupByName()\l+ findAllAdministrativeGroups()\l+ createDocumentType()\l+ findDocumentType()\l+ findAllDocumentTypes()\l+ findAllDocumentTypes()\l+ createLanguage()\l+ findLanguage()\l+ findLanguageByName()\l+ findAllLanguages()\l+ createEmbargoType()\l+ createEmbargoType()\l+ findEmbargoType()\l+ findAllEmbargoTypes()\l+ findSystemEmbargoTypeByName\lAndGuarantor()\l+ findNonSystemEmbargoType\lByNameAndGuarantor()\l+ findAllActiveEmbargoTypes()\l+ createGraduationMonth()\l+ findGraduationMonth()\l+ findAllGraduationMonths()\l+ createCommitteeMemberRoleType()\l+ findCommitteeMemberRoleType()\l+ findAllCommitteeMemberRole\lTypes()\l+ findAllCommitteeMemberRole\lTypes()\l+ createEmailWorkflowRuleCondition()\l+ findEmailWorkflowRuleCondition()\l+ findAllEmailWorkflowRule\lConditions()\l+ createEmailWorkflowRule()\l+ findEmailWorkflowRule()\l+ findEmailWorkflowRulesBy\lState()\l+ findAllEmailWorkflowRules()\l+ createEmailTemplate()\l+ findEmailTemplate()\l+ findEmailTemplateByName()\l+ findSystemEmailTemplateByName()\l+ findNonSystemEmailTemplate\lByName()\l+ findAllEmailTemplates()\l+ createCustomActionDefinition()\l+ findCustomActionDefinition()\l+ findAllCustomActionDefinition()\l+ createConfiguration()\l+ findConfiguration()\l+ findConfigurationByName()\l+ getConfigValue()\l+ getConfigValue()\l+ getConfigBoolean()\l+ findAllConfigurations()\l+ createDepositLocation()\l+ findDepositLocation()\l+ findDepositLocationByName()\l+ findAllDepositLocations()\l}" alt="" coords="308,179,555,1474"/><area shape="rect" id="node7" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html" title="{org.tdl.vireo.model.Submission\lRepository\n||+ createSubmission()\l+ findSubmission()\l+ findSubmissions()\l+ findSubmissionByEmailHash()\l+ findSubmission()\l+ findAllSubmissions()\l+ findSubmissionsTotal()\l+ findAllGraduationSemesters()\l+ findAllSubmissionYears()\l+ findAllPrograms()\l+ findAllColleges()\l+ findAllDepartments()\l+ findAllMajors()\l+ findAllDegrees()\l+ findAllLanguages()\l+ findAttachment()\l+ findCommitteeMember()\l+ findCustomActionValue()\l+ findActionLog()\l+ findActionLogs()\l+ findActionLog()\l+ findAllActionLogs()\l+ findActionLogsTotal()\l+ createSearchFilter()\l+ findSearchFilter()\l+ findSearchFiltersByCreator\lOrPublic()\l+ findSearchFilterByCreator\lAndName()\l+ findAllSearchFilters()\l}" alt="" coords="769,568,979,1085"/><area shape="rect" id="node10" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html" title="{org.tdl.vireo.proquest.Proquest\lVocabularyRepository\n||+ findAllSubjects()\l+ findSubjectByCode()\l+ findSubjectByDescription()\l+ findAllLanguages()\l+ findLanguageByCode()\l+ findLanguageByDescription()\l+ findAllDegrees()\l+ findDegreeByCode()\l+ findDegreeByDescription()\l}" alt="" coords="1285,722,1485,931"/><area shape="rect" id="node11" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html" title="{org.tdl.vireo.model.Person\lRepository\n||+ createPerson()\l+ findPerson()\l+ findPersonByEmail()\l+ findPersonByNetId()\l+ findPersonsByRole()\l+ searchPersons()\l+ findAllPersons()\l+ findPersonsTotal()\l+ findPreference()\l}" alt="" coords="1510,722,1684,931"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_1_1_template_package.html">TemplatePackage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a401b779537f4138390679acd1a4a82c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a401b779537f4138390679acd1a4a82c8">setPersonRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html">PersonRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">personRepo</a>)</td></tr>
<tr class="separator:a401b779537f4138390679acd1a4a82c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406ea2a5a580710d6c4360cec77564ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a406ea2a5a580710d6c4360cec77564ef">setSubmissionRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">subRepo</a>)</td></tr>
<tr class="separator:a406ea2a5a580710d6c4360cec77564ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4135bc21670b265a95f749eb05443f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#acc4135bc21670b265a95f749eb05443f">setSettingsRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html">SettingsRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">settingRepo</a>)</td></tr>
<tr class="separator:acc4135bc21670b265a95f749eb05443f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687c675b7b92a3273902e0f4d9ba3617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a687c675b7b92a3273902e0f4d9ba3617">setProquestVocabularyRepository</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html">ProquestVocabularyRepository</a> <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">proquestRepo</a>)</td></tr>
<tr class="separator:a687c675b7b92a3273902e0f4d9ba3617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcac5f906600956907ad5624b7e68d90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#adcac5f906600956907ad5624b7e68d90">setPackageType</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">packageType</a>)</td></tr>
<tr class="separator:adcac5f906600956907ad5624b7e68d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b87ff4bf9b2cbc57c692cf6464f4bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ab6b87ff4bf9b2cbc57c692cf6464f4bd">setManifestTemplatePath</a> (String templatePath)</td></tr>
<tr class="separator:ab6b87ff4bf9b2cbc57c692cf6464f4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fae1ec90b75366e0eb0ea880b5855be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a2fae1ec90b75366e0eb0ea880b5855be">setMimeType</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">mimeType</a>)</td></tr>
<tr class="separator:a2fae1ec90b75366e0eb0ea880b5855be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba45144f0b2bfc35f4c184a874a31ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9ba45144f0b2bfc35f4c184a874a31ea">setFormat</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a>)</td></tr>
<tr class="separator:a9ba45144f0b2bfc35f4c184a874a31ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ceb8fcafe4d43d55d7941cc1f79675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a93ceb8fcafe4d43d55d7941cc1f79675">setManifestName</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>)</td></tr>
<tr class="separator:a93ceb8fcafe4d43d55d7941cc1f79675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3173fcffa422546a66192411c43b5d32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3173fcffa422546a66192411c43b5d32">setEntryName</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a>)</td></tr>
<tr class="separator:a3173fcffa422546a66192411c43b5d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97e578c373d0d2354cd03edc31f756d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ad97e578c373d0d2354cd03edc31f756d">setAttachmentTypeNames</a> (LinkedHashMap&lt; String, Properties &gt; attachmentTypeNames)</td></tr>
<tr class="separator:ad97e578c373d0d2354cd03edc31f756d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aede960df6d24815d54291e02be0f605d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aede960df6d24815d54291e02be0f605d">setManifestTemplateArguments</a> (Map&lt; String, Object &gt; arguments)</td></tr>
<tr class="separator:aede960df6d24815d54291e02be0f605d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d8caa0b7cacd8362b277d13d0c9e99"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ab0d8caa0b7cacd8362b277d13d0c9e99">getExportServiceBeanName</a> ()</td></tr>
<tr class="separator:ab0d8caa0b7cacd8362b277d13d0c9e99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d4a645d171a8d89c2a5da1b971ad42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_export_package.html">ExportPackage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ae4d4a645d171a8d89c2a5da1b971ad42">generatePackage</a> (<a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a> submission)</td></tr>
<tr class="separator:ae4d4a645d171a8d89c2a5da1b971ad42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html">org.tdl.vireo.export.impl.AbstractPackagerImpl</a></td></tr>
<tr class="memitem:a1b7398a578f2a6ba01e1f0d55e34ff4e inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#a1b7398a578f2a6ba01e1f0d55e34ff4e">getBeanName</a> ()</td></tr>
<tr class="separator:a1b7398a578f2a6ba01e1f0d55e34ff4e inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f02f1f006f540925feb486fb9b9ac9a inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#a4f02f1f006f540925feb486fb9b9ac9a">setBeanName</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#afd82415a6c05e873b8b65dd2ec02910c">beanName</a>)</td></tr>
<tr class="separator:a4f02f1f006f540925feb486fb9b9ac9a inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6db6715184f9c74590c7bb1d389ba0 inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#afa6db6715184f9c74590c7bb1d389ba0">getDisplayName</a> ()</td></tr>
<tr class="separator:afa6db6715184f9c74590c7bb1d389ba0 inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae351042d5a6468fb889f8814fbfdeb37 inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#ae351042d5a6468fb889f8814fbfdeb37">setDisplayName</a> (String <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#a5f49cadbe650e98d7ee92494016cae71">displayName</a>)</td></tr>
<tr class="separator:ae351042d5a6468fb889f8814fbfdeb37 inherit pub_methods_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afb5fecf5a4cb271cf6ddeb40ad4fab61"><td class="memItemLeft" align="right" valign="top">VirtualFile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">templateFile</a> = null</td></tr>
<tr class="separator:afb5fecf5a4cb271cf6ddeb40ad4fab61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e78c16d53c23a5795d1acf293dd3d4"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">mimeType</a> = null</td></tr>
<tr class="separator:a70e78c16d53c23a5795d1acf293dd3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4dcf74476c7b906ea444ac2481e0c7"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a> = null</td></tr>
<tr class="separator:a7b4dcf74476c7b906ea444ac2481e0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cbdc7484dea38934ce31c7250f9a30"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a> = &quot;mets.xml&quot;</td></tr>
<tr class="separator:a72cbdc7484dea38934ce31c7250f9a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade93f814191a1b2a859746e8ab92ebe2"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a> = null</td></tr>
<tr class="separator:ade93f814191a1b2a859746e8ab92ebe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a24e0b22f5e338db80cc376763dfefb"><td class="memItemLeft" align="right" valign="top">List&lt; <a class="el" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_attachment_type.html">AttachmentType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a> = new ArrayList&lt;<a class="el" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_attachment_type.html">AttachmentType</a>&gt;()</td></tr>
<tr class="separator:a0a24e0b22f5e338db80cc376763dfefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc66364bf5f399e4d50ced72f90cb2a"><td class="memItemLeft" align="right" valign="top">LinkedHashMap&lt; String, Properties &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a> = new LinkedHashMap&lt;String, Properties&gt;()</td></tr>
<tr class="separator:aefc66364bf5f399e4d50ced72f90cb2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b421fa2cd476361464ea0086fc6c5e4"><td class="memItemLeft" align="right" valign="top">Map&lt; String, Object &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">templateArguments</a> = null</td></tr>
<tr class="separator:a4b421fa2cd476361464ea0086fc6c5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a62869af2260bf70fa001092d004cc6"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">packageType</a> = &quot;dir&quot;</td></tr>
<tr class="separator:a5a62869af2260bf70fa001092d004cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9548a120da9f53cbe31bc16a106638bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html">PersonRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">personRepo</a></td></tr>
<tr class="separator:a9548a120da9f53cbe31bc16a106638bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e080c27bbc9701f871a62f53317bfff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">subRepo</a></td></tr>
<tr class="separator:a1e080c27bbc9701f871a62f53317bfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9faefc909c051313ba8b65de291130"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html">SettingsRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">settingRepo</a></td></tr>
<tr class="separator:afc9faefc909c051313ba8b65de291130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed2771d2f2bb7f428b130706284bd50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html">ProquestVocabularyRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">proquestRepo</a></td></tr>
<tr class="separator:a3ed2771d2f2bb7f428b130706284bd50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html">org.tdl.vireo.export.impl.AbstractPackagerImpl</a></td></tr>
<tr class="memitem:afd82415a6c05e873b8b65dd2ec02910c inherit pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#afd82415a6c05e873b8b65dd2ec02910c">beanName</a></td></tr>
<tr class="separator:afd82415a6c05e873b8b65dd2ec02910c inherit pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f49cadbe650e98d7ee92494016cae71 inherit pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl.html#a5f49cadbe650e98d7ee92494016cae71">displayName</a></td></tr>
<tr class="separator:a5f49cadbe650e98d7ee92494016cae71 inherit pub_attribs_classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_abstract_packager_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic packager that uses a the standard play templating system to generate manifests for packages. Each packaged produced will consist of a manifest file, along with a series of files. This packaged is ziped together into a single bundle ready for deposit.</p>
<p>The values that define what format, which files, etc, are all injected by spring. This allows for many different package formats to be created by just adding a new spring bean definition. See each of the injection methods below for a description of the various injectable settings.</p>
<dl class="section author"><dt>Author</dt><dd><a href="http://www.scottphillips.com">Scott Phillips</a> </dd>
<dd>
Micah Cooper </dd>
<dd>
<a href="#" onclick="location.href='mai'+'lto:'+'huf'+'f@'+'lib'+'ra'+'ry.'+'ta'+'mu.'+'ed'+'u'; return false;">Jeremy Huff</a> </dd>
<dd>
<a href="#" onclick="location.href='mai'+'lto:'+'gad'+'.k'+'rum'+'ho'+'lz@'+'au'+'sti'+'n.'+'ute'+'xa'+'s.e'+'du'; return false;">Gad Krumholz</a> </dd></dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00054">54</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae4d4a645d171a8d89c2a5da1b971ad42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_export_package.html">ExportPackage</a> org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html">Submission</a>&#160;</td>
          <td class="paramname"><em>submission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate a new package for this submission.</p>
<p>The package returned will file system resources so it is very important that any caller who constructs a package also calls delete() to free those resources used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submission</td><td>The submission </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A package </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_packager.html#a2a7f656b04d59dd07ec54312c34da432">org.tdl.vireo.export.Packager</a>.</p>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00238">238</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00063">org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentAttributes</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00062">org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentTypes</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00061">org.tdl.vireo.export.impl.TemplatePackagerImpl.entryName</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00059">org.tdl.vireo.export.impl.TemplatePackagerImpl.format</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html#ab4af416a9dc5ac0c61ad497e238ea681">org.tdl.vireo.model.Submission.getAttachments()</a>, <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1">org.tdl.vireo.model.AbstractModel.getId()</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00060">org.tdl.vireo.export.impl.TemplatePackagerImpl.manifestName</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00058">org.tdl.vireo.export.impl.TemplatePackagerImpl.mimeType</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00065">org.tdl.vireo.export.impl.TemplatePackagerImpl.packageType</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00068">org.tdl.vireo.export.impl.TemplatePackagerImpl.personRepo</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00071">org.tdl.vireo.export.impl.TemplatePackagerImpl.proquestRepo</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00070">org.tdl.vireo.export.impl.TemplatePackagerImpl.settingRepo</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00069">org.tdl.vireo.export.impl.TemplatePackagerImpl.subRepo</a>, <a class="el" href="_template_packager_impl_8java_source.html#l00064">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateArguments</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00057">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateFile</a>.</p>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                                                {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Check that we have everything that we need.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (submission == null || submission.getId() == null)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;Unable to generate a package because the submission is null, or has not been persisted.&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">templateFile</a> == null)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="stringliteral">&quot;Unable to generate package because no template file exists.&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a> == null)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="stringliteral">&quot;Unable to generate package because no manifest name has been defined.&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a> == null)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="stringliteral">&quot;Unable to generate package because no package format name has been defined.&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="comment">// Set String Replacement Parameters</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            Map&lt;String, String&gt; parameters = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            parameters = StringVariableReplacement.setParameters(submission);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="comment">// Customize Manifest Name</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            String manifestNameTemplate = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a> = StringVariableReplacement.applyParameterSubstitution(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>, parameters);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="comment">// Cusotmize Entry Name         </span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            String entryNameTemplate = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            String customEntryName = StringVariableReplacement.applyParameterSubstitution(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a>, parameters);           </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="comment">// Generate the manifest.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            Map&lt;String, Object&gt; templateBinding = <span class="keyword">new</span> HashMap&lt;String,Object&gt;();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;sub&quot;</span>, submission);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;personRepo&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">personRepo</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;subRepo&quot;</span>,<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">subRepo</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;settingRepo&quot;</span>,<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">settingRepo</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;proquestRepo&quot;</span>,<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">proquestRepo</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;packageType&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">packageType</a>);                        </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;manifestName&quot;</span>,<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;entryName&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;format&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;mimeType&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">mimeType</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            templateBinding.put(<span class="stringliteral">&quot;attachmentTypes&quot;</span>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">templateArguments</a> != null)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                templateBinding.putAll(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">templateArguments</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            Template <span class="keyword">template</span> = TemplateLoader.load(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">templateFile</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            String manifest = template.render(templateBinding);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            File pkg = null;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="comment">//Check the package type set in the spring configuration.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">packageType</a>.equals(<span class="stringliteral">&quot;zip&quot;</span>)) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                    </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    pkg = File.createTempFile(<span class="stringliteral">&quot;template-export-&quot;</span>, <span class="stringliteral">&quot;.zip&quot;</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(pkg);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    ZipOutputStream zos = <span class="keyword">new</span> ZipOutputStream(fos);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="comment">// Copy the manifest</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                    File manifestFile = File.createTempFile(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>, null);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    FileUtils.writeStringToFile(manifestFile, manifest);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                    ZipEntry ze = <span class="keyword">new</span> ZipEntry(manifestName);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    zos.putNextEntry(ze);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    FileInputStream in = <span class="keyword">new</span> FileInputStream(manifestFile);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                    </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    byte[] buf = <span class="keyword">new</span> byte[1024];</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                    <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keywordflow">while</span> ((len = in.read(buf)) &gt; 0) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        zos.write(buf, 0, len);                     </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    in.close();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    zos.closeEntry();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    manifestFile.delete();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a>.size() &gt; 0 ) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <span class="comment">// Add all the attachments</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        <span class="keywordflow">for</span>(Attachment attachment : submission.getAttachments())</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                            <span class="comment">// Do we include this type?</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                            <span class="keywordflow">if</span> (!<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a>.contains(attachment.getType()))</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                <span class="comment">/* The string substitution only works on items we can retrieve from the submission</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">                                 *      so we have to get the file name for each attachment here in the attachment loop.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">                                 */</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                String shortFileName = attachment.getName().replaceAll(<span class="stringliteral">&quot;.&quot;</span>+FilenameUtils.getExtension(attachment.getName()), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                            </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                String fileName = attachment.getName();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                <span class="comment">// Attachment Name Customization</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;customName&quot;</span>)!=null) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                    fileName = attachmentAttributes.get(attachment.getType().name()).<span class="keyword">get</span>(<span class="stringliteral">&quot;customName&quot;</span>)+<span class="stringliteral">&quot;.&quot;</span>+FilenameUtils.getExtension(attachment.getName());                                    </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                    fileName = fileName.replace(<span class="stringliteral">&quot;{FILE_NAME}&quot;</span>, shortFileName);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                    fileName = StringVariableReplacement.applyParameterSubstitution(fileName, parameters);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                File exportFile = null;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                <span class="comment">// Check for custom directory structure set in spring.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                Boolean hasDir = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                String dirName = null;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                <span class="keywordflow">if</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;directory&quot;</span>)!=null) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                    dirName = (String) <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;directory&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                    dirName = dirName.replace(<span class="stringliteral">&quot;{FILE_NAME}&quot;</span>, shortFileName);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                    dirName = StringVariableReplacement.applyParameterSubstitution(dirName, parameters);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                    fileName = dirName + fileName;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                    hasDir = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                exportFile = File.createTempFile(fileName, null);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                                </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                FileUtils.copyFile(</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                        attachment.getFile(),</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                        exportFile</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                        );</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                ze = <span class="keyword">new</span> ZipEntry(fileName);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                zos.putNextEntry(ze);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                in = <span class="keyword">new</span> FileInputStream(exportFile);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                <span class="keywordflow">while</span> ((len = in.read(buf)) &gt; 0) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                    zos.write(buf, 0, len);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                in.close();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                zos.closeEntry();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                <span class="comment">//cleaning up either temp directory or temp files</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                <span class="keywordflow">if</span>(hasDir &amp;&amp; dirName != null) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                    FileUtils.deleteDirectory(<span class="keyword">new</span> File(dirName));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                    exportFile.delete();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                }               </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                    </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    zos.close();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    fos.close();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                } </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a>.size() &gt; 0 ) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="comment">// The package has more than one file, so export as a directory.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    pkg = File.createTempFile(<span class="stringliteral">&quot;template-export-&quot;</span>, <span class="stringliteral">&quot;.dir&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    pkg.delete();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                    pkg.mkdir();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                    <span class="comment">// Copy the manifest</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                    File manifestFile = <span class="keyword">new</span> File(pkg.getPath(),<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                    FileUtils.writeStringToFile(manifestFile, manifest);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <span class="comment">// Add all the attachments</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <span class="keywordflow">for</span>(Attachment attachment : submission.getAttachments())</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <span class="comment">// Do we include this type?</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                        <span class="keywordflow">if</span> (!<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">attachmentTypes</a>.contains(attachment.getType()))</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                        <span class="comment">/* The string substitution only works on items we can retrieve from the submission</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">                         *      so we have to get the file name for each attachment here in the attachment loop.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">                         */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        String shortFileName = attachment.getName().replaceAll(<span class="stringliteral">&quot;.&quot;</span>+FilenameUtils.getExtension(attachment.getName()), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                        String fileName = attachment.getName(); </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                        </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        <span class="comment">// Customize Attachment Name</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;customName&quot;</span>)!=null) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                            fileName = attachmentAttributes.get(attachment.getType().name()).<span class="keyword">get</span>(<span class="stringliteral">&quot;customName&quot;</span>)+<span class="stringliteral">&quot;.&quot;</span>+FilenameUtils.getExtension(attachment.getName());</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                            fileName = fileName.replace(<span class="stringliteral">&quot;{FILE_NAME}&quot;</span>, shortFileName);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                            fileName = StringVariableReplacement.applyParameterSubstitution(fileName, parameters);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        }                       </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                        <span class="comment">// Check for Custom Directory Structure.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        String pkgPath = pkg.getPath();                     </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;directory&quot;</span>)!=null) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                            String dirName = (String) <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">attachmentAttributes</a>.get(attachment.getType().name()).get(<span class="stringliteral">&quot;directory&quot;</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                            dirName = dirName.replace(<span class="stringliteral">&quot;{FILE_NAME}&quot;</span>, shortFileName);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                            dirName = StringVariableReplacement.applyParameterSubstitution(dirName, parameters);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                            pkgPath = pkgPath + File.separator + dirName;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                            </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        File exportFile = <span class="keyword">new</span> File(pkgPath, fileName);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                            </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                        FileUtils.copyFile(</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                            attachment.getFile(),</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                            exportFile</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                            );</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    } <span class="comment">//End for loop</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                    </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    <span class="comment">// There&#39;s only one file, so export as a single file.</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                    String extension = FilenameUtils.getExtension(<a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                    <span class="keywordflow">if</span> (extension.length() &gt; 0)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                        extension = <span class="stringliteral">&quot;.&quot;</span>+extension;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                    </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                    pkg = File.createTempFile(<span class="stringliteral">&quot;template-export&quot;</span>, extension);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                    FileUtils.writeStringToFile(pkg, manifest);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            <span class="comment">// Reset Manifest and Entry Name Placeholders</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            this.setManifestName(manifestNameTemplate);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            this.setEntryName(entryNameTemplate);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <span class="comment">// Create the actual package!</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> TemplatePackage(submission, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">mimeType</a>, <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a>, pkg, customEntryName);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        } <span class="keywordflow">catch</span> (IOException ioe) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(<span class="stringliteral">&quot;Unable to generate package&quot;</span>,ioe);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a0a24e0b22f5e338db80cc376763dfefb"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a0a24e0b22f5e338db80cc376763dfefb">org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentTypes</a></div><div class="ttdeci">List&lt; AttachmentType &gt; attachmentTypes</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00062">TemplatePackagerImpl.java:62</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a70e78c16d53c23a5795d1acf293dd3d4"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">org.tdl.vireo.export.impl.TemplatePackagerImpl.mimeType</a></div><div class="ttdeci">String mimeType</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00058">TemplatePackagerImpl.java:58</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a1e080c27bbc9701f871a62f53317bfff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">org.tdl.vireo.export.impl.TemplatePackagerImpl.subRepo</a></div><div class="ttdeci">SubmissionRepository subRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00069">TemplatePackagerImpl.java:69</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a4b421fa2cd476361464ea0086fc6c5e4"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateArguments</a></div><div class="ttdeci">Map&lt; String, Object &gt; templateArguments</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00064">TemplatePackagerImpl.java:64</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_aefc66364bf5f399e4d50ced72f90cb2a"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#aefc66364bf5f399e4d50ced72f90cb2a">org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentAttributes</a></div><div class="ttdeci">LinkedHashMap&lt; String, Properties &gt; attachmentAttributes</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00063">TemplatePackagerImpl.java:63</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_afc9faefc909c051313ba8b65de291130"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">org.tdl.vireo.export.impl.TemplatePackagerImpl.settingRepo</a></div><div class="ttdeci">SettingsRepository settingRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00070">TemplatePackagerImpl.java:70</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a5a62869af2260bf70fa001092d004cc6"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">org.tdl.vireo.export.impl.TemplatePackagerImpl.packageType</a></div><div class="ttdeci">String packageType</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00065">TemplatePackagerImpl.java:65</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a72cbdc7484dea38934ce31c7250f9a30"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">org.tdl.vireo.export.impl.TemplatePackagerImpl.manifestName</a></div><div class="ttdeci">String manifestName</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00060">TemplatePackagerImpl.java:60</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_ade93f814191a1b2a859746e8ab92ebe2"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">org.tdl.vireo.export.impl.TemplatePackagerImpl.entryName</a></div><div class="ttdeci">String entryName</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00061">TemplatePackagerImpl.java:61</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a3ed2771d2f2bb7f428b130706284bd50"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">org.tdl.vireo.export.impl.TemplatePackagerImpl.proquestRepo</a></div><div class="ttdeci">ProquestVocabularyRepository proquestRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00071">TemplatePackagerImpl.java:71</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a7b4dcf74476c7b906ea444ac2481e0c7"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">org.tdl.vireo.export.impl.TemplatePackagerImpl.format</a></div><div class="ttdeci">String format</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00059">TemplatePackagerImpl.java:59</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a9548a120da9f53cbe31bc16a106638bf"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">org.tdl.vireo.export.impl.TemplatePackagerImpl.personRepo</a></div><div class="ttdeci">PersonRepository personRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00068">TemplatePackagerImpl.java:68</a></div></div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_afb5fecf5a4cb271cf6ddeb40ad4fab61"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateFile</a></div><div class="ttdeci">VirtualFile templateFile</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00057">TemplatePackagerImpl.java:57</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_ae4d4a645d171a8d89c2a5da1b971ad42_cgraph.png" border="0" usemap="#classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_ae4d4a645d171a8d89c2a5da1b971ad42_cgraph" alt=""/></div>
<map name="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_ae4d4a645d171a8d89c2a5da1b971ad42_cgraph" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_ae4d4a645d171a8d89c2a5da1b971ad42_cgraph">
<area shape="rect" id="node2" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission.html#ab4af416a9dc5ac0c61ad497e238ea681" title="org.tdl.vireo.model.Submission.get\lAttachments" alt="" coords="315,5,538,46"/><area shape="rect" id="node3" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_abstract_model.html#adf9b6814dd10bc0848d4f17341c6e7b1" title="org.tdl.vireo.model.Abstract\lModel.getId" alt="" coords="335,70,518,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab0d8caa0b7cacd8362b277d13d0c9e99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.getExportServiceBeanName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The technical spring bean name of this packager's <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_export_service.html">ExportService</a> implementation. </dd></dl>

<p>Implements <a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1export_1_1_packager.html#a74f53c7086ed05ae03599c39e93a0d59">org.tdl.vireo.export.Packager</a>.</p>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00233">233</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                             {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;ExportService&quot;</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad97e578c373d0d2354cd03edc31f756d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setAttachmentTypeNames </td>
          <td>(</td>
          <td class="paramtype">LinkedHashMap&lt; String, Properties &gt;&#160;</td>
          <td class="paramname"><em>attachmentTypeNames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPITONAL) Set the attachment types which will be included in the package. Since not all attachments should be deposited, this allows the package to filter which files to include. They must be the exact name (all uppercase) of types listed in the AttachmentType enum.</p>
<p>If no types are specified then no attachments will be included.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attachmentTypeNames</td><td>List of attachment types to include. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00206">206</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                                                              {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        this.attachmentTypes = <span class="keyword">new</span> ArrayList&lt;AttachmentType&gt;();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        this.attachmentAttributes = <span class="keyword">new</span> LinkedHashMap&lt;String, Properties&gt;();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (attachmentTypeNames != null ) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            this.attachmentAttributes = attachmentTypeNames;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">for</span> (String name : attachmentTypeNames.keySet()) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                AttachmentType type = AttachmentType.valueOf(name);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                this.attachmentTypes.add(type);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3173fcffa422546a66192411c43b5d32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setEntryName </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>entryName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPTIONAL) Set the name of the entry. The default will be submission_{submission ID}, but this can be customized in application-context.xml.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entryName</td><td>The name of the entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00191">191</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00061">org.tdl.vireo.export.impl.TemplatePackagerImpl.entryName</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                               {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        this.entryName = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">entryName</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_ade93f814191a1b2a859746e8ab92ebe2"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#ade93f814191a1b2a859746e8ab92ebe2">org.tdl.vireo.export.impl.TemplatePackagerImpl.entryName</a></div><div class="ttdeci">String entryName</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00061">TemplatePackagerImpl.java:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ba45144f0b2bfc35f4c184a874a31ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setFormat </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(REQUIRED) Set the format descriptor of this package. This will vary widely between package formats. It is typically a URL to an XML schema describing the format of the mainifest file. In vireo 1, the format was always "http://purl.org/net/sword-types/METSDSpaceSIP".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The format of the package generated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00165">165</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00059">org.tdl.vireo.export.impl.TemplatePackagerImpl.format</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                         {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        this.format = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">format</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a7b4dcf74476c7b906ea444ac2481e0c7"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a7b4dcf74476c7b906ea444ac2481e0c7">org.tdl.vireo.export.impl.TemplatePackagerImpl.format</a></div><div class="ttdeci">String format</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00059">TemplatePackagerImpl.java:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a93ceb8fcafe4d43d55d7941cc1f79675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestName </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>manifestName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPTIONAL) Set the name of the manifest file file. This will vary between package formats but some popular ones are "mets.xml", or "mods.xml". See the specific format to understand what the file is going to be called.</p>
<p>If no manifest name is set, then "mets.xml" will be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manifestName</td><td>The name of the manifest file. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00179">179</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00060">org.tdl.vireo.export.impl.TemplatePackagerImpl.manifestName</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                                     {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        this.manifestName = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">manifestName</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a72cbdc7484dea38934ce31c7250f9a30"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a72cbdc7484dea38934ce31c7250f9a30">org.tdl.vireo.export.impl.TemplatePackagerImpl.manifestName</a></div><div class="ttdeci">String manifestName</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00060">TemplatePackagerImpl.java:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aede960df6d24815d54291e02be0f605d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestTemplateArguments </td>
          <td>(</td>
          <td class="paramtype">Map&lt; String, Object &gt;&#160;</td>
          <td class="paramname"><em>arguments</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPTIONAL) Set a list of arguments which may be accessed as variables in the template syntax. The variable "sub" will always be the submission which is being packaged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arguments</td><td>Template arguments </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00228">228</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00064">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateArguments</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                                                           {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">templateArguments</a> = arguments;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a4b421fa2cd476361464ea0086fc6c5e4"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a4b421fa2cd476361464ea0086fc6c5e4">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateArguments</a></div><div class="ttdeci">Map&lt; String, Object &gt; templateArguments</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00064">TemplatePackagerImpl.java:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6b87ff4bf9b2cbc57c692cf6464f4bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestTemplatePath </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>templatePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(REQUIRED) Set the template for generating the manifest file. This parameter is always required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">templatePath</td><td>The path (relative to the application's directory) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00131">131</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00057">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateFile</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                                             {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        VirtualFile <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">templateFile</a> = Play.getVirtualFile(templatePath);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">// Blow up at construction time if template not found.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">if</span> (templateFile == null || !templateFile.exists()) </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> TemplateNotFoundException(templatePath);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        this.templateFile = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">templateFile</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_afb5fecf5a4cb271cf6ddeb40ad4fab61"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afb5fecf5a4cb271cf6ddeb40ad4fab61">org.tdl.vireo.export.impl.TemplatePackagerImpl.templateFile</a></div><div class="ttdeci">VirtualFile templateFile</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00057">TemplatePackagerImpl.java:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2fae1ec90b75366e0eb0ea880b5855be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setMimeType </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>mimeType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPTIONAL) Set the mimetype of the resulting package generated. For most cases the mimetype should be null, meaning that there are multiple files generated contained within a directory. However, if the packager format generates a single file, then the mimetype should be set to the type of that file. Such as "text/xml". By default if no mimetype is set, then null is assumed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mimeType</td><td>The mime type of the package. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00152">152</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00058">org.tdl.vireo.export.impl.TemplatePackagerImpl.mimeType</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                             {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        this.mimeType = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">mimeType</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a70e78c16d53c23a5795d1acf293dd3d4"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a70e78c16d53c23a5795d1acf293dd3d4">org.tdl.vireo.export.impl.TemplatePackagerImpl.mimeType</a></div><div class="ttdeci">String mimeType</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00058">TemplatePackagerImpl.java:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adcac5f906600956907ad5624b7e68d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setPackageType </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>packageType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(OPTIONAL) Inject the package type for the export.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packageType</td><td>Package Type (directory, zip, etc) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00120">120</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00065">org.tdl.vireo.export.impl.TemplatePackagerImpl.packageType</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                                   {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        this.packageType = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">packageType</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a5a62869af2260bf70fa001092d004cc6"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a5a62869af2260bf70fa001092d004cc6">org.tdl.vireo.export.impl.TemplatePackagerImpl.packageType</a></div><div class="ttdeci">String packageType</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00065">TemplatePackagerImpl.java:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a401b779537f4138390679acd1a4a82c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setPersonRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html">PersonRepository</a>&#160;</td>
          <td class="paramname"><em>personRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject the repository of people and their preferences.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personRepo</td><td>Person Repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00079">79</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00068">org.tdl.vireo.export.impl.TemplatePackagerImpl.personRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                                 {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        this.personRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">personRepo</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a9548a120da9f53cbe31bc16a106638bf"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a9548a120da9f53cbe31bc16a106638bf">org.tdl.vireo.export.impl.TemplatePackagerImpl.personRepo</a></div><div class="ttdeci">PersonRepository personRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00068">TemplatePackagerImpl.java:68</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a687c675b7b92a3273902e0f4d9ba3617"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setProquestVocabularyRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html">ProquestVocabularyRepository</a>&#160;</td>
          <td class="paramname"><em>proquestRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject the repository of proquest vocabulary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proquestRepo</td><td>Proquest Vocabulary Repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00110">110</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00071">org.tdl.vireo.export.impl.TemplatePackagerImpl.proquestRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                                                                           {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        this.proquestRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">proquestRepo</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a3ed2771d2f2bb7f428b130706284bd50"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a3ed2771d2f2bb7f428b130706284bd50">org.tdl.vireo.export.impl.TemplatePackagerImpl.proquestRepo</a></div><div class="ttdeci">ProquestVocabularyRepository proquestRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00071">TemplatePackagerImpl.java:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc4135bc21670b265a95f749eb05443f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setSettingsRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html">SettingsRepository</a>&#160;</td>
          <td class="paramname"><em>settingRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject the repository of system-wide settings &amp; configuration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settingRepo</td><td>Settings Repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00100">100</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00070">org.tdl.vireo.export.impl.TemplatePackagerImpl.settingRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                                      {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        this.settingRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">settingRepo</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_afc9faefc909c051313ba8b65de291130"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#afc9faefc909c051313ba8b65de291130">org.tdl.vireo.export.impl.TemplatePackagerImpl.settingRepo</a></div><div class="ttdeci">SettingsRepository settingRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00070">TemplatePackagerImpl.java:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a406ea2a5a580710d6c4360cec77564ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.tdl.vireo.export.impl.TemplatePackagerImpl.setSubmissionRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a>&#160;</td>
          <td class="paramname"><em>subRepo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inject the repository of submission and their related objects: committee members, attachments, custom action values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subRepo</td><td>Submission Repository </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00090">90</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>References <a class="el" href="_template_packager_impl_8java_source.html#l00069">org.tdl.vireo.export.impl.TemplatePackagerImpl.subRepo</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                                      {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        this.subRepo = <a class="code" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">subRepo</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="ttc" id="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl_html_a1e080c27bbc9701f871a62f53317bfff"><div class="ttname"><a href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html#a1e080c27bbc9701f871a62f53317bfff">org.tdl.vireo.export.impl.TemplatePackagerImpl.subRepo</a></div><div class="ttdeci">SubmissionRepository subRepo</div><div class="ttdef"><b>Definition:</b> <a href="_template_packager_impl_8java_source.html#l00069">TemplatePackagerImpl.java:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aefc66364bf5f399e4d50ced72f90cb2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LinkedHashMap&lt;String, Properties&gt; org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentAttributes = new LinkedHashMap&lt;String, Properties&gt;()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00063">63</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a24e0b22f5e338db80cc376763dfefb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_attachment_type.html">AttachmentType</a>&gt; org.tdl.vireo.export.impl.TemplatePackagerImpl.attachmentTypes = new ArrayList&lt;<a class="el" href="enumorg_1_1tdl_1_1vireo_1_1model_1_1_attachment_type.html">AttachmentType</a>&gt;()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00062">62</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>.</p>

</div>
</div>
<a class="anchor" id="ade93f814191a1b2a859746e8ab92ebe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.entryName = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00061">61</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00191">org.tdl.vireo.export.impl.TemplatePackagerImpl.setEntryName()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b4dcf74476c7b906ea444ac2481e0c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.format = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00059">59</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00165">org.tdl.vireo.export.impl.TemplatePackagerImpl.setFormat()</a>.</p>

</div>
</div>
<a class="anchor" id="a72cbdc7484dea38934ce31c7250f9a30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.manifestName = &quot;mets.xml&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00060">60</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00179">org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestName()</a>.</p>

</div>
</div>
<a class="anchor" id="a70e78c16d53c23a5795d1acf293dd3d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.mimeType = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00058">58</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00152">org.tdl.vireo.export.impl.TemplatePackagerImpl.setMimeType()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a62869af2260bf70fa001092d004cc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String org.tdl.vireo.export.impl.TemplatePackagerImpl.packageType = &quot;dir&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00065">65</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00120">org.tdl.vireo.export.impl.TemplatePackagerImpl.setPackageType()</a>.</p>

</div>
</div>
<a class="anchor" id="a9548a120da9f53cbe31bc16a106638bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_person_repository.html">PersonRepository</a> org.tdl.vireo.export.impl.TemplatePackagerImpl.personRepo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00068">68</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00079">org.tdl.vireo.export.impl.TemplatePackagerImpl.setPersonRepository()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ed2771d2f2bb7f428b130706284bd50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1proquest_1_1_proquest_vocabulary_repository.html">ProquestVocabularyRepository</a> org.tdl.vireo.export.impl.TemplatePackagerImpl.proquestRepo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00071">71</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00110">org.tdl.vireo.export.impl.TemplatePackagerImpl.setProquestVocabularyRepository()</a>.</p>

</div>
</div>
<a class="anchor" id="afc9faefc909c051313ba8b65de291130"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_settings_repository.html">SettingsRepository</a> org.tdl.vireo.export.impl.TemplatePackagerImpl.settingRepo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00070">70</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00100">org.tdl.vireo.export.impl.TemplatePackagerImpl.setSettingsRepository()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e080c27bbc9701f871a62f53317bfff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interfaceorg_1_1tdl_1_1vireo_1_1model_1_1_submission_repository.html">SubmissionRepository</a> org.tdl.vireo.export.impl.TemplatePackagerImpl.subRepo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00069">69</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00090">org.tdl.vireo.export.impl.TemplatePackagerImpl.setSubmissionRepository()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b421fa2cd476361464ea0086fc6c5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Map&lt;String,Object&gt; org.tdl.vireo.export.impl.TemplatePackagerImpl.templateArguments = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00064">64</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00228">org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestTemplateArguments()</a>.</p>

</div>
</div>
<a class="anchor" id="afb5fecf5a4cb271cf6ddeb40ad4fab61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VirtualFile org.tdl.vireo.export.impl.TemplatePackagerImpl.templateFile = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_template_packager_impl_8java_source.html#l00057">57</a> of file <a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a>.</p>

<p>Referenced by <a class="el" href="_template_packager_impl_8java_source.html#l00238">org.tdl.vireo.export.impl.TemplatePackagerImpl.generatePackage()</a>, and <a class="el" href="_template_packager_impl_8java_source.html#l00131">org.tdl.vireo.export.impl.TemplatePackagerImpl.setManifestTemplatePath()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>app/org/tdl/vireo/export/impl/<a class="el" href="_template_packager_impl_8java_source.html">TemplatePackagerImpl.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceorg.html">org</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl.html">tdl</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo.html">vireo</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1export.html">export</a></li><li class="navelem"><a class="el" href="namespaceorg_1_1tdl_1_1vireo_1_1export_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="classorg_1_1tdl_1_1vireo_1_1export_1_1impl_1_1_template_packager_impl.html">TemplatePackagerImpl</a></li>
    <li class="footer">Generated on Fri May 1 2015 10:53:27 for Vireo by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
